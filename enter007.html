<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Anne Hathaway × Aprende Inglés</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --primary: #6366f1;
    --primary-dark: #4f46e5;
    --primary-light: #818cf8;
    --gray-100: #f8fafc;
    --gray-200: #e2e8f0;
    --gray-600: #475569;
    --gray-800: #1e293b;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 30px rgba(0,0,0,0.15);
    --radius: 16px;
    --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }
  * { box-sizing: border-box; }
  body {
    margin: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #eef2ff 0%, #ddd6fe 100%);
    color: var(--gray-800);
    line-height: 1.6;
    min-height: 100vh;
  }
  .page-max-width { max-width: 580px; margin: 0 auto; width: 100%; }
  @media (max-width: 768px) { .page-max-width { max-width: 100%; } }

  .video-wrapper {
    position: sticky; top: 0; width: 100%; background: #000; z-index: 20;
    box-shadow: var(--shadow-lg); max-height: 65vh; min-height: 280px;
    border-bottom: 4px solid var(--primary);
  }
  .video-inner { position: relative; width: 100%; height: 0; padding-bottom: 56.25%;
    border-radius: 0 0 var(--radius) var(--radius); overflow: hidden; }
  .video-inner iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
  .spacer { height: 12vh; }
  @media (max-width: 640px) { .spacer { height: 6vh; } }

  .dialogue-container { padding: 24px 20px; }

  .line {
    background: white; padding: 24px; margin-bottom: 20px;
    border-radius: var(--radius); box-shadow: var(--shadow-md);
    transition: var(--transition); border-left: 5px solid transparent;
  }
  .line:hover { transform: translateY(-6px); box-shadow: var(--shadow-lg); }
  .line.active { border-left-color: var(--primary); background: #f8faff;
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.15); }
  .line-content { display: flex; align-items: center; gap: 20px; }
  .text-block { flex: 1; cursor: pointer; user-select: none; }
  .english { font-size: 18px; font-weight: 600; color: var(--gray-800);
    line-height: 1.6; margin-bottom: 8px; }
  .spanish { font-size: 16px; color: var(--gray-600); font-weight: 500;
    line-height: 1.6; opacity: 0; max-height: 0; overflow: hidden;
    transition: var(--transition); }
  .spanish.visible { opacity: 1; max-height: 200px; margin-top: 12px; }
  .controls { display: flex; flex-direction: column; gap: 12px; min-width: 100px; }
  .btn { padding: 12px 16px; border: none; border-radius: 12px;
    font-weight: 600; font-size: 14px; cursor: pointer;
    transition: var(--transition); box-shadow: var(--shadow-sm); }
  .playBtn { background: var(--primary); color: white; }
  .playBtn:hover { background: var(--primary-dark); transform: translateY(-1px); }
  .speakBtn { background: var(--gray-200); color: var(--gray-800); }
  .speakBtn:hover { background: #cbd5e1; }
  .playBtn[data-playing="true"], .speakBtn[data-speaking="true"] { background: #dc2626; color: white; }

  @media (max-width: 640px) {
    .dialogue-container { padding: 16px 12px; }
    .line { padding: 20px; }
    .line-content { flex-direction: column; text-align: center; gap: 16px; }
    .controls { flex-direction: row; width: 100%; justify-content: center; }
    .btn { flex: 1; }
    .english { font-size: 17px; }
  }
</style>
</head>
<body>

<div class="page-max-width">
  <div class="video-wrapper">
    <div class="video-inner">
      <div id="player"></div>
    </div>
  </div>
  <div class="spacer"></div>

  <div class="dialogue-container">
    <!-- ============================================================= -->
    <!-- === AQUÍ PEGAS TODO EL INGLÉS (una línea por bloque)       === -->
    <!-- === Formato: [10] Texto en inglés...                       === -->
    <!-- === o también: [1:53] Texto en inglés...                   === -->
    <!-- ============================================================= -->

    [00:00](https://youtu.be/HAnw168huqA?t=0.091) [MUSIC] Welcome. I'm very excited today to talk about effective speaking in spontaneous situations. I thank you all for joining us, even though the title of my talk is grammatically incorrect.

[00:16](https://youtu.be/HAnw168huqA?t=16.83) I thought that might scare a few of you away. But I learned teaching here at the business school, catching people's attention is hard. So, something as simple as that, I thought, might draw a few of you here, so this is going to be a highly interactive and participative workshop today.

[00:31](https://youtu.be/HAnw168huqA?t=31.94) If you don't feel comfortable participating that's completely fine, but do know I'm gonna ask you to talk to people next to you. They'll be opportunities to stand up and practice some things because I believe the way we become effective communicators is by actually communicating, so let's get started right away.

[00:47](https://youtu.be/HAnw168huqA?t=47.49) I'd like to ask you all to read this sentence, and as you read this sentence, what's most important to me is that you count the number of fs that you find in this sentence, please. Count the number of fs. Keep it quiet to yourself. [BLANK_AUDIO]

[01:07](https://youtu.be/HAnw168huqA?t=67.152) Give you just another couple seconds here. [BLANK_AUDIO] Three, two, one. Raise your hand please if you found three and only three f's. Excellent, great. Did anybody find four? Anybody find only five fs? Anybody find six?

[01:28](https://youtu.be/HAnw168huqA?t=88.19) There's six fs. What two letter word ending in f did many of us miss? Oh. We'll make sure to get this to you so you can torment your friends and family at a later date. When I first was exposed to this over 12 years ago I only found three, and

[01:46](https://youtu.be/HAnw168huqA?t=106.69) I felt really stupid. So, I like to start every workshop, every class I teach with to pass that feeling along. No, no. [LAUGH] That's not, that's not why I do this. I do this because this is a perfect analogy for what we're going to be talking about today. The vast majority of us in this room, very smart people in this room,

[02:04](https://youtu.be/HAnw168huqA?t=124.03) were not as effective as we could have been in this activity. We didn't get it right. And the same is true when it comes to speaking in public, particularly when spontaneous speaking. It's little things that make a big difference in being affective. So today we're going to talk about little things in terms of your approach, your

[02:23](https://youtu.be/HAnw168huqA?t=143.53) attitude, your practice, that can change how you feel when you speak in public. And we're gonna be talking primarily about one type of public speaking. Not the type that you plan for in advance, the type that you actually spend time thinking about, you might even create slides for. These are the key notes, the conference presentation, the formal toasts.

[02:47](https://youtu.be/HAnw168huqA?t=167.52) That's not what we are talking about today, we are talking about spontaneous speaking. When you are in a situation that you are asked to speak off the cuff and in the moment. What we're going through today is actually the result of a workshop I created here for the business school. Several years ago, a survey was taken among the students, and they said, what's
    <script>
      const englishLines = `
[10] Thank you very much. Well, I would like to start with testicles. Men who sleep five hours
[23] a night have significantly smaller testicles than those who sleep seven hours or more.
[30] And women who sleep five hours a night have significantly lower testosterone levels
[38] than women who sleep seven hours or more.
[1153] Great job man. Very welcome. Thank you very much.
      `.trim().split('\n');
    </script>

    <!-- ============================================================= -->
    <!-- === AQUÍ PEGAS TODO EL ESPAÑOL (en el mismo orden exacto)   === -->
    <!-- === Solo el texto traducido, SIN timestamps                 === -->
    <!-- ============================================================= -->

    [00:00](https://youtu.be/HAnw168huqA?t=0.091) [MUSIC] Welcome. I'm very excited today to talk about effective speaking in spontaneous situations. I thank you all for joining us, even though the title of my talk is grammatically incorrect.

[00:16](https://youtu.be/HAnw168huqA?t=16.83) I thought that might scare a few of you away. But I learned teaching here at the business school, catching people's attention is hard. So, something as simple as that, I thought, might draw a few of you here, so this is going to be a highly interactive and participative workshop today.

[00:31](https://youtu.be/HAnw168huqA?t=31.94) If you don't feel comfortable participating that's completely fine, but do know I'm gonna ask you to talk to people next to you. They'll be opportunities to stand up and practice some things because I believe the way we become effective communicators is by actually communicating, so let's get started right away.

[00:47](https://youtu.be/HAnw168huqA?t=47.49) I'd like to ask you all to read this sentence, and as you read this sentence, what's most important to me is that you count the number of fs that you find in this sentence, please. Count the number of fs. Keep it quiet to yourself. [BLANK_AUDIO]

[01:07](https://youtu.be/HAnw168huqA?t=67.152) Give you just another couple seconds here. [BLANK_AUDIO] Three, two, one. Raise your hand please if you found three and only three f's. Excellent, great. Did anybody find four? Anybody find only five fs? Anybody find six?

[01:28](https://youtu.be/HAnw168huqA?t=88.19) There's six fs. What two letter word ending in f did many of us miss? Oh. We'll make sure to get this to you so you can torment your friends and family at a later date. When I first was exposed to this over 12 years ago I only found three, and

[01:46](https://youtu.be/HAnw168huqA?t=106.69) I felt really stupid. So, I like to start every workshop, every class I teach with to pass that feeling along. No, no. [LAUGH] That's not, that's not why I do this. I do this because this is a perfect analogy for what we're going to be talking about today. The vast majority of us in this room, very smart people in this room,

[02:04](https://youtu.be/HAnw168huqA?t=124.03) were not as effective as we could have been in this activity. We didn't get it right. And the same is true when it comes to speaking in public, particularly when spontaneous speaking. It's little things that make a big difference in being affective. So today we're going to talk about little things in terms of your approach, your

[02:23](https://youtu.be/HAnw168huqA?t=143.53) attitude, your practice, that can change how you feel when you speak in public. And we're gonna be talking primarily about one type of public speaking. Not the type that you plan for in advance, the type that you actually spend time thinking about, you might even create slides for. These are the key notes, the conference presentation, the formal toasts.

[02:47](https://youtu.be/HAnw168huqA?t=167.52) That's not what we are talking about today, we are talking about spontaneous speaking. When you are in a situation that you are asked to speak off the cuff and in the moment. What we're going through today is actually the result of a workshop I created here for the business school. Several years ago, a survey was taken among the students, and they said, what's
    <script>
      const spanishLines = `
Muchas gracias. Bueno, me gustaría empezar con los testículos. Los hombres que duermen cinco horas
por noche tienen testículos significativamente más pequeños que los que duermen siete horas o más.
Y las mujeres que duermen cinco horas por noche tienen niveles de testosterona significativamente más bajos
que las mujeres que duermen siete horas o más.
Gran trabajo, tío. De nada. Muchas gracias.
      `.trim().split('\n');
    </script>

    <!-- ============================================================= -->
    <!-- === GENERADOR AUTOMÁTICO (NO TOCAR NADA DE AQUÍ ABAJO)      === -->
    <!-- ============================================================= -->
    <script>
      // Convierte [1:23] o [123] o [12:34.5] → segundos
      function parseTimestamp(str) {
        const match = str.match(/\[ *(\d+:?\d*:?\d*\.?\d*) *\]/);
        if (!match) return null;
        const parts = match[1].split(':').map(parseFloat);
        if (parts.length === 1) return parts[0];
        if (parts.length === 2) return parts[0]*60 + parts[1];
        if (parts.length === 3) return parts[0]*3600 + parts[1]*60 + parts[2];
        return null;
      }

      // Genera todas las tarjetas
      const container = document.currentScript.parentNode;
      const maxLines = Math.max(englishLines.length, spanishLines.length);

      for (let i = 0; i < maxLines; i++) {
        const engRaw = (englishLines[i] || '').trim();
        const spaRaw = (spanishLines[i] || '').trim();

        if (!engRaw && !spaRaw) continue;

        const time = parseTimestamp(engRaw);
        const englishText = engRaw.replace(/\[.*?\]\s*/, '').trim();
        const spanishText = spaRaw;

        const lineDiv = document.createElement('div');
        lineDiv.className = 'line';
        if (time !== null) lineDiv.dataset.time = time;

        lineDiv.innerHTML = `
          <div class="line-content">
            <div class="text-block">
              <div class="english">${englishText.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}</div>
              ${spanishText ? `<div class="spanish">${spanishText.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}</div>` : ''}
            </div>
            <div class="controls">
              <button class="btn playBtn">Play</button>
              <button class="btn speakBtn">Speak</button>
            </div>
          </div>
        `;
        container.appendChild(lineDiv);
      }

      // Marca de fin (para que el scroll siga funcionando)
      const fin = document.createElement('div');
      fin.innerHTML = '<!-- (FIN) -->';
      container.appendChild(fin);
    </script>
  </div>
</div>

<!-- ====== TODO EL SCRIPT ORIGINAL (sin cambios) ====== -->
<script>
let firstSeekHandled = false;
let player;
let currentTimeout = null;
let currentUtterance = null;
let timeChecker = null;
let scrollEnabled = false;
let playFromButton = false;

const START_OFFSET = -1;
const END_PADDING = 2.5;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    videoId: '5MuIMqhT8DM',
    playerVars: { playsinline: 1, rel: 0, modestbranding: 1 },
    events: {
      onStateChange: onPlayerStateChange,
      onReady: () => { onPlayerReadyAutoKickstart(); }
    }
  });
}

function onPlayerReadyAutoKickstart() {
  player.playVideo();
  setTimeout(() => player.pauseVideo(), 300);
}

const tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
document.getElementsByTagName('script')[0].parentNode.insertBefore(tag, document.getElementsByTagName('script')[0]);

function resetAll(exceptBtn = null) {
  speechSynthesis.cancel();
  currentUtterance = null;
  if (currentTimeout) clearTimeout(currentTimeout);
  currentTimeout = null;
  document.querySelectorAll(".line").forEach(l => {
    if (!exceptBtn || !l.contains(exceptBtn)) l.classList.remove("active");
  });
  document.querySelectorAll(".playBtn, .speakBtn").forEach(b => {
    if (b !== exceptBtn) {
      b.textContent = b.classList.contains("playBtn") ? "Play" : "Speak";
      delete b.dataset.playing;
      delete b.dataset.speaking;
    }
  });
}

function scrollLineToCenter(element) {
  const rect = element.getBoundingClientRect();
  const elementCenter = rect.top + rect.height / 2;
  const screenCenter = window.innerHeight / 2;
  const offset = elementCenter - screenCenter - 40;
  window.scrollBy({ top: offset, behavior: 'smooth' });
}

function updateActiveLine(currentTime) {
  const lines = Array.from(document.querySelectorAll(".line"));
  let active = null;
  for (let i = 0; i < lines.length; i++) {
    const t = parseFloat(lines[i].dataset.time);
    const next = i < lines.length - 1 ? parseFloat(lines[i+1].dataset.time) : 99999;
    if (currentTime >= t && currentTime < next) {
      active = lines[i];
      break;
    }
  }
  lines.forEach(l => l.classList.remove("active"));
  if (active) {
    active.classList.add("active");
    if (scrollEnabled) scrollLineToCenter(active);
  }
}

function onPlayerStateChange(event) {
  if (event.data === YT.PlayerState.PLAYING) {
    if (!playFromButton) scrollEnabled = true;
    playFromButton = false;
    if (timeChecker) clearInterval(timeChecker);
    timeChecker = setInterval(() => updateActiveLine(player.getCurrentTime()), 200);
  } else {
    if (timeChecker) clearInterval(timeChecker);
  }
}

document.addEventListener("click", e => {
  if (e.target.classList.contains("playBtn")) {
    const btn = e.target;
    const line = btn.closest(".line");
    const rawStartTime = parseFloat(line.dataset.time);
    scrollEnabled = false;
    playFromButton = true;

    if (btn.dataset.playing === "true") {
      player.pauseVideo();
      btn.textContent = "Play";
      delete btn.dataset.playing;
      resetAll(btn);
      line.classList.add("active");
      if (currentTimeout) clearTimeout(currentTimeout);
      return;
    }

    resetAll(btn);
    const allLines = Array.from(document.querySelectorAll(".line"));
    const idx = allLines.indexOf(line);
    const startTime = Math.max(0, rawStartTime + START_OFFSET);
    const rawEndTime = idx < allLines.length - 1 ? parseFloat(allLines[idx + 1].dataset.time) : rawStartTime + 25;
    const endTime = rawEndTime + END_PADDING;
    const duration = (endTime - startTime) * 1000;

    player.seekTo(startTime, true);
    player.playVideo();
    btn.textContent = "Pause";
    btn.dataset.playing = "true";
    line.classList.add("active");

    currentTimeout = setTimeout(() => {
      player.pauseVideo();
      btn.textContent = "Replay";
      delete btn.dataset.playing;
      resetAll(btn);
      line.classList.add("active");
    }, duration);
  }
});

document.addEventListener("click", e => {
  if (e.target.classList.contains("speakBtn")) {
    const btn = e.target;
    const line = btn.closest(".line");
    const text = line.querySelector(".english").innerText;
    const rawStartTime = parseFloat(line.dataset.time);
    const startTime = Math.max(0, rawStartTime + START_OFFSET);

    if (btn.dataset.speaking === "true") {
      speechSynthesis.cancel();
      currentUtterance = null;
      btn.textContent = "Speak";
      delete btn.dataset.speaking;
      resetAll(btn);
      line.classList.add("active");
      if (currentTimeout) clearTimeout(currentTimeout);
      return;
    }

    resetAll(btn);
    if (!firstSeekHandled) {
      firstSeekHandled = true;
      player.playVideo();
      setTimeout(() => {
        player.pauseVideo();
        player.seekTo(startTime, true);
        player.pauseVideo();
      }, 250);
    } else {
      player.seekTo(startTime, true);
      player.pauseVideo();
    }

    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = "en-US";
    utter.rate = 0.9;
    utter.onstart = () => {
      btn.textContent = "Pause";
      btn.dataset.speaking = "true";
      line.classList.add("active");
    };
    utter.onend = () => {
      btn.textContent = "Replay";
      delete btn.dataset.speaking;
      resetAll(btn);
      line.classList.add("active");
      currentUtterance = null;
    };
    utter.onerror = () => {
      btn.textContent = "Speak";
      delete btn.dataset.speaking;
      resetAll(btn);
      line.classList.add("active");
      currentUtterance = null;
    };
    currentUtterance = utter;
    speechSynthesis.speak(utter);
  }
});

document.addEventListener("click", e => {
  const tb = e.target.closest(".text-block, .line");
  if (tb && !e.target.closest(".controls")) {
    const span = tb.querySelector(".spanish");
    if (span) span.classList.toggle("visible");
  }
});
</script>
</body>
</html>
