<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Anne Hathaway × Aprende Inglés</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --primary: #6366f1;
    --primary-dark: #4f46e5;
    --primary-light: #818cf8;
    --gray-100: #f8fafc;
    --gray-200: #e2e8f0;
    --gray-600: #475569;
    --gray-800: #1e293b;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
    --shadow-lg: 0 10px 30px rgba(0,0,0,0.15);
    --radius: 16px;
    --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }

  * { box-sizing: border-box; }
  body {
    margin: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #eef2ff 0%, #ddd6fe 100%);
    color: var(--gray-800);
    line-height: 1.6;
    min-height: 100vh;
  }

  /* ====================== VIDEO FIJO ====================== */
  .video-wrapper {
    position: sticky;
    top: 0;
    width: 100%;
    background: #000;
    z-index: 20;
    box-shadow: var(--shadow-lg);
    max-height: 65vh;
    min-height: 280px;
    border-bottom: 4px solid var(--primary);
  }
  .video-inner {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 56.25%;
    border-radius: 0 0 var(--radius) var(--radius);
    overflow: hidden;
  }
  .video-inner iframe {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    border: none;
  }

  .spacer { height: 12vh; }
  @media (max-width: 640px) { .spacer { height: 6vh; } }

  /* ====================== CONTENEDOR ====================== */
  .dialogue-container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 24px 20px;
  }

  /* ====================== TARJETAS ====================== */
  .line {
    background: white;
    padding: 24px;
    margin-bottom: 20px;
    border-radius: var(--radius);
    box-shadow: var(--shadow-md);
    transition: var(--transition);
    border-left: 5px solid transparent;
  }
  .line:hover {
    transform: translateY(-6px);
    box-shadow: var(--shadow-lg);
  }
  .line.active {
    border-left-color: var(--primary);
    background: #f8faff;
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.15);
  }

  .line-content {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .text-block {
    flex: 1;
    cursor: pointer;
    user-select: none;
  }
  .english {
    font-size: 18px;
    font-weight: 600;
    color: var(--gray-800);
    line-height: 1.6;
    margin-bottom: 8px;
  }
  .spanish {
    font-size: 16px;
    color: var(--gray-600);
    font-weight: 500;
    line-height: 1.6;
    opacity: 0;
    max-height: 0;
    overflow: hidden;
    transition: var(--transition);
  }
  .spanish.visible {
    opacity: 1;
    max-height: 200px;
    margin-top: 12px;
  }

  .controls {
    display: flex;
    flex-direction: column;
    gap: 12px;
    min-width: 100px;
  }

  .btn {
    padding: 12px 16px;
    border: none;
    border-radius: 12px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: var(--shadow-sm);
  }
  .playBtn {
    background: var(--primary);
    color: white;
  }
  .playBtn:hover { background: var(--primary-dark); transform: translateY(-1px); }
  .speakBtn {
    background: var(--gray-200);
    color: var(--gray-800);
  }
  .speakBtn:hover { background: #cbd5e1; }

  /* Cuando está activo */
  .playBtn[data-playing="true"] { background: #dc2626; }
  .speakBtn[data-speaking="true"] { background: #dc2626; color: white; }

  /* ====================== RESPONSIVE ====================== */
  @media (max-width: 640px) {
    .dialogue-container { padding: 16px 12px; }
    .line { padding: 20px; }
    .line-content {
      flex-direction: column;
      text-align: center;
      gap: 16px;
    }
    .controls {
      flex-direction: row;
      width: 100%;
      justify-content: center;
    }
    .btn { flex: 1; }
    .english { font-size: 17px; }
  }

  @media (max-height: 600px) and (min-width: 1000px) {
    .video-wrapper { max-height: 55vh; }
  }
</style>
</head>
<body>

  <div class="video-wrapper">
    <div class="video-inner">
      <div id="player"></div>
    </div>
  </div>

  <div class="spacer"></div>

 <!-- ... pega aquí el resto de tus 29 líneas ... -->

  <div class="line" data-time="1">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Thank you very much.</div>
        <div class="spanish">Muchas gracias.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="2">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Well, I would like to start with testicles.</div>
        <div class="spanish">Bueno, me gustaría empezar hablando de los testículos.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="9">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Men who sleep five hours a night have significantly smaller testicles than those who sleep seven hours or more.</div>
        <div class="spanish">Los hombres que duermen cinco horas por noche tienen los testículos significativamente más pequeños que los que duermen siete horas o más.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="20">
    <div class="line-content">
      <div class="text-block">
        <div class="english">In addition, men who routinely sleep just four to five hours a night will have a level of testosterone which is that of someone 10 years their senior.</div>
        <div class="spanish">Además, los hombres que habitualmente duermen solo de cuatro a cinco horas tienen un nivel de testosterona equivalente al de alguien 10 años mayor.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="33">
    <div class="line-content">
      <div class="text-block">
        <div class="english">So a lack of sleep will age a man by a decade in terms of that critical aspect of wellness. And we see equivalent impairments in female reproductive health caused by a lack of sleep.</div>
        <div class="spanish">Por tanto, la falta de sueño envejece a un hombre una década en ese aspecto clave del bienestar. Y vemos daños equivalentes en la salud reproductiva femenina por falta de sueño.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="51">
    <div class="line-content">
      <div class="text-block">
        <div class="english">This is the best news that I have for you today. From this point, it may only get worse.</div>
        <div class="spanish">Esta es la mejor noticia que tengo para ustedes hoy. A partir de aquí, probablemente solo empeore.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="59">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Not only will I tell you about the wonderfully good things that happen when you get sleep, but the alarmingly bad things that happen when you don't get enough — both for your brain and for your body.</div>
        <div class="spanish">No solo les contaré las cosas maravillosas que ocurren cuando duermes bien, sino también las alarmantemente malas que pasan cuando no duermes lo suficiente, tanto para el cerebro como para el cuerpo.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="71">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Let me start with the brain and the functions of learning and memory.</div>
        <div class="spanish">Empecemos por el cerebro y las funciones de aprendizaje y memoria.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="77">
    <div class="line-content">
      <div class="text-block">
        <div class="english">What we've discovered over the past 10 or so years is that you need sleep after learning to essentially hit the save button on those new memories so that you don't forget.</div>
        <div class="spanish">Lo que hemos descubierto en los últimos 10 años es que necesitas dormir después de aprender para pulsar básicamente el botón de «guardar» en esos nuevos recuerdos y no olvidarlos.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="89">
    <div class="line-content">
      <div class="text-block">
        <div class="english">But recently, we discovered that you also need sleep before learning to actually prepare your brain, almost like a dry sponge ready to initially soak up new information.</div>
        <div class="spanish">Pero recientemente descubrimos que también necesitas dormir antes de aprender para preparar tu cerebro, como una esponja seca lista para absorber nueva información.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="103">
    <div class="line-content">
      <div class="text-block">
        <div class="english">And without sleep, the memory circuits of the brain essentially become waterlogged, as it were, and you can't absorb new memories.</div>
        <div class="spanish">Y sin sueño, los circuitos de memoria del cerebro se saturan, por así decirlo, y no puedes absorber nuevos recuerdos.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="112">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Here in this study, we decided to test the hypothesis that pulling the all-nighter was a good idea.</div>
        <div class="spanish">En este estudio decidimos probar la hipótesis de que pasar la noche en vela era buena idea.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="122">
    <div class="line-content">
      <div class="text-block">
        <div class="english">We assigned them to one of two groups: a sleep group and a sleep deprivation group. The sleep group got a full eight hours, but the deprivation group we kept awake in the lab under full supervision — no naps, no caffeine.</div>
        <div class="spanish">Los dividimos en dos grupos: uno que dormía y otro al que privamos de sueño. El grupo que dormía tuvo ocho horas completas, pero al grupo privado de sueño lo mantuvimos despiertos en el laboratorio bajo supervisión total — sin siestas ni cafeína.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="138">
    <div class="line-content">
      <div class="text-block">
        <div class="english">The next day we placed them inside an MRI scanner and had them learn new facts. The sleep-deprived group showed a quite significant 40-percent deficit in the ability of the brain to make new memories without sleep.</div>
        <div class="spanish">Al día siguiente los pusimos en un escáner de resonancia magnética y les hicimos aprender hechos nuevos. El grupo sin dormir mostró un déficit del 40 % bastante significativo en la capacidad del cerebro para crear nuevos recuerdos sin sueño.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="171">
    <div class="line-content">
      <div class="text-block">
        <div class="english">In those who were sleep-deprived, the hippocampus — the informational inbox of your brain — was essentially shut down.</div>
        <div class="spanish">En los que estaban privados de sueño, el hipocampo — la bandeja de entrada de información del cerebro — estaba básicamente apagado.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="198">
    <div class="line-content">
      <div class="text-block">
        <div class="english">During the very deepest stages of sleep there are these big powerful brainwaves with spectacular bursts called sleep spindles that act like a file-transfer mechanism, shifting memories from short-term to long-term storage.</div>
        <div class="spanish">Durante las etapas más profundas del sueño hay grandes ondas cerebrales potentes con ráfagas espectaculares llamadas husos del sueño que actúan como un mecanismo de transferencia de archivos, moviendo recuerdos del almacenamiento temporal al permanente.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="217">
    <div class="line-content">
      <div class="text-block">
        <div class="english">The disruption of deep sleep is an underappreciated factor contributing to cognitive decline in aging, and most recently in Alzheimer's disease as well.</div>
        <div class="spanish">La alteración del sueño profundo es un factor infravalorado que contribuye al deterioro cognitivo en el envejecimiento y, más recientemente, también en la enfermedad de Alzheimer.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="246">
    <div class="line-content">
      <div class="text-block">
        <div class="english">We’re developing direct current brain stimulation to boost deep sleep and almost double memory benefit. We hope to translate this into older adults and those with dementia.</div>
        <div class="spanish">Estamos desarrollando estimulación cerebral con corriente directa para potenciar el sueño profundo y casi duplicar el beneficio en memoria. Esperamos poder aplicarlo en adultos mayores y personas con demencia.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="277">
    <div class="line-content">
      <div class="text-block">
        <div class="english">In spring, when we lose one hour of sleep with daylight saving time, we see a 24-percent increase in heart attacks the following day. In autumn, when we gain an hour, a 21-percent decrease.</div>
        <div class="spanish">En primavera, al perder una hora de sueño con el cambio horario, vemos un aumento del 24 % en infartos al día siguiente. En otoño, al ganar una hora, una disminución del 21 %.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="303">
    <div class="line-content">
      <div class="text-block">
        <div class="english">After just one night restricted to four hours of sleep, natural killer cell activity drops 70 percent. That’s a massive immune deficiency.</div>
        <div class="spanish">Tras una sola noche restringida a cuatro horas de sueño, la actividad de las células asesinas naturales cae un 70 %. Eso es una deficiencia inmunológica enorme.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="346">
    <div class="line-content">
      <div class="text-block">
        <div class="english">The link between lack of sleep and cancer is now so strong that the World Health Organization has classified night shift work as a probable carcinogen.</div>
        <div class="spanish">La relación entre la falta de sueño y el cáncer es tan fuerte que la OMS ha clasificado el trabajo por turnos nocturnos como probable cancerígeno.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="381">
    <div class="line-content">
      <div class="text-block">
        <div class="english">The shorter your sleep, the shorter your life. Short sleep predicts all-cause mortality.</div>
        <div class="spanish">Cuanto menos duermes, menos vives. Dormir poco predice mortalidad por cualquier causa.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="395">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Lack of sleep distorted the activity of 711 genes: it turned off immune genes and turned on genes that promote tumors, chronic inflammation and cardiovascular disease.</div>
        <div class="spanish">La falta de sueño alteró la actividad de 711 genes: apagó genes inmunitarios y activó genes que promueven tumores, inflamación crónica y enfermedades cardiovasculares.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="433">
    <div class="line-content">
      <div class="text-block">
        <div class="english">My two tips: regularity — go to bed and wake up at the same time every day — and keep it cool, around 65 degrees Fahrenheit or 18 degrees Celsius.</div>
        <div class="spanish">Mis dos consejos: regularidad — acostarte y levantarte a la misma hora todos los días — y mantenerlo fresco, unos 18 °C.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="453">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Sleep is not an optional lifestyle luxury. Sleep is a non-negotiable biological necessity. It is Mother Nature’s best effort yet at immortality.</div>
        <div class="spanish">El sueño no es un lujo opcional. Es una necesidad biológica innegociable. Es el mayor esfuerzo de la Madre Naturaleza por la inmortalidad hasta ahora.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="495">
    <div class="line-content">
      <div class="text-block">
        <div class="english">The decimation of sleep throughout industrialized nations is having a catastrophic impact on our health, our wellness, and even the education and safety of our children.</div>
        <div class="spanish">La destrucción del sueño en las naciones industrializadas está teniendo un impacto catastrófico en nuestra salud, bienestar y hasta en la educación y seguridad de nuestros hijos.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="520">
    <div class="line-content">
      <div class="text-block">
        <div class="english">It is now time for us to reclaim our right to a full night of sleep, without embarrassment or the unfortunate stigma of laziness.</div>
        <div class="spanish">Es hora de reclamar nuestro derecho a una noche completa de sueño, sin vergüenza ni el estigma de la pereza.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="545">
    <div class="line-content">
      <div class="text-block">
        <div class="english">Good night, good luck, and above all… I do hope you sleep well. Thank you very much indeed.</div>
        <div class="spanish">Buenas noches, buena suerte y, sobre todo… espero de verdad que duerman bien. Muchas gracias.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>

  <div class="line" data-time="1031">
    <div class="line-content">
      <div class="text-block">
        <div class="english">You're very welcome. Thank you very much.</div>
        <div class="spanish">De nada. Muchas gracias.</div>
      </div>
      <div class="controls">
        <button class="btn playBtn">Play</button>
        <button class="btn speakBtn">Speak</button>
      </div>
    </div>
  </div>



 <!-- ... pega aquí el resto de tus 29 líneas ... -->

  </div>

<script>
  let player;
  let currentTimeout = null;
  let currentUtterance = null;

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      videoId: '5MuIMqhT8DM',
      playerVars: { playsinline: 1, rel: 0, modestbranding: 1 }
    });
  }

  const tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  const firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // ==================== PLAY / PAUSE + AUTO-PAUSA + DESACTIVAR SPEAK ====================
  document.addEventListener("click", e => {
    if (e.target.classList.contains("playBtn")) {
      const btn = e.target;
      const line = btn.closest(".line");
      const startTime = parseFloat(line.dataset.time);

      // SI YA ESTÁ REPRODUCIENDO → PAUSAR
      if (btn.dataset.playing === "true") {
        player.pauseVideo();
        btn.textContent = "Play";
        delete btn.dataset.playing;
        line.classList.remove("active");
        if (currentTimeout) clearTimeout(currentTimeout);
        return;
      }

      // NUEVA REPRODUCCIÓN → parar cualquier Speak activo
      speechSynthesis.cancel();
      document.querySelectorAll(".speakBtn").forEach(b => {
        b.textContent = "Speak";
        delete b.dataset.speaking;
      });

      // Resetear botones y calcular fin del fragmento
      if (currentTimeout) clearTimeout(currentTimeout);
      document.querySelectorAll(".line").forEach(l => l.classList.remove("active"));
      document.querySelectorAll(".playBtn").forEach(b => {
        b.textContent = "Play";
        delete b.dataset.playing;
      });

      const allLines = Array.from(document.querySelectorAll(".line"));
      const idx = allLines.indexOf(line);
      const endTime = idx < allLines.length - 1 ? parseFloat(allLines[idx + 1].dataset.time) : 700;
      const duration = (endTime - startTime) * 1000 + 400;

      player.seekTo(startTime, true);
      player.playVideo();
      btn.textContent = "Pause";
      btn.dataset.playing = "true";
      line.classList.add("active");

      currentTimeout = setTimeout(() => {
        player.pauseVideo();
        btn.textContent = "Replay";
        delete btn.dataset.playing;
      }, duration);
    }
  });

  // ==================== MOSTRAR ESPAÑOL ====================
  document.addEventListener("click", e => {
    const tb = e.target.closest(".text-block");
    if (tb && !e.target.closest(".controls")) {
      tb.querySelector(".spanish").classList.toggle("visible");
    }
  });

  // ==================== SPEAK / STOP + DESACTIVAR VÍDEO SI ESTÁ SONANDO ====================
  document.addEventListener("click", e => {
    if (e.target.classList.contains("speakBtn")) {
      const btn = e.target;

      // SI YA ESTÁ HABLANDO → parar
      if (btn.dataset.speaking === "true") {
        speechSynthesis.cancel();
        btn.textContent = "Speak";
        delete btn.dataset.speaking;
        return;
      }

      // NUEVO SPEAK → pausar el vídeo si está reproduciéndose
      player.pauseVideo();
      document.querySelectorAll(".playBtn").forEach(b => {
        b.textContent = "Play";
        delete b.dataset.playing;
      });
      document.querySelectorAll(".line").forEach(l => l.classList.remove("active"));
      if (currentTimeout) clearTimeout(currentTimeout);



      const text = btn.closest(".line").querySelector(".english").innerText;
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = "en-US";
      utter.rate = 0.9;

      utter.onend = () => {
        btn.textContent = "Speak";
        delete btn.dataset.speaking;
      };

      speechSynthesis.speak(utter);
      btn.textContent = "Stop";
      btn.dataset.speaking = "true";
    }
  });
</script>
</body>
</html>
