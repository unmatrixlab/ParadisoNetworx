<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>MDC Theory - The Alphabet Masterclass</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary: #4f46e5; /* Azul MDC */
Â  Â  Â  Â  Â  Â  --primary-dark: #3730a3;
Â  Â  Â  Â  Â  Â  --danger: #ef4444;
Â  Â  Â  Â  Â  Â  --bg-body: #f3f4f6;
Â  Â  Â  Â  Â  Â  --card-bg: rgba(255, 255, 255, 0.85);
Â  Â  Â  Â  Â  Â  --text-main: #1f2937;
Â  Â  Â  Â  Â  Â  --text-muted: #6b7280;
Â  Â  Â  Â  Â  Â  --header-height: 0px; /* MODIFICADO: Ahora es 0 ya que se elimina el header */
Â  Â  Â  Â  Â  Â  --radius-key: 12px;
Â  Â  Â  Â  Â  Â  --radius-card: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  background: var(--bg-body);
Â  Â  Â  Â  Â  Â  font-family: 'Inter', sans-serif;
Â  Â  Â  Â  Â  Â  padding-top: 0; /* MODIFICADO: Eliminado el padding-top del body */
Â  Â  Â  Â  Â  Â  padding-bottom: 60px;
Â  Â  Â  Â  Â  Â  color: var(--text-main);
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* ====== HEADER ====== (ELIMINADO) */
Â  Â  Â  Â  /* #mdc-header { ... } */
Â  Â  Â  Â  /* #mdc-header a { ... } */
Â  Â  Â  Â  /* #mdc-header a:hover { ... } */
Â  Â  Â  Â  /* ====== LAYOUT ====== */
Â  Â  Â  Â  .main-container {
Â  Â  Â  Â  Â  Â  width: 95%;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .page-title {
Â  Â  Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  Â  Â  Â  font-weight: 800;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, var(--text-main), var(--primary));
Â  Â  Â  Â  Â  Â  -webkit-background-clip: text;
Â  Â  Â  Â  Â  Â  -webkit-text-fill-color: transparent;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .page-subtitle {
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  Â  Â  color: var(--text-muted);
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  font-weight: 500;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* ====== CONTROLS (PLAY/STOP) ====== */
Â  Â  Â  Â  .controls-container {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .ctrl-btn {
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 10px 24px;
Â  Â  Â  Â  Â  Â  border-radius: 30px;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: transform 0.1s, box-shadow 0.2s;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn-play { background: var(--primary); color: white; }
Â  Â  Â  Â  .btn-play:hover { background: var(--primary-dark); transform: translateY(-2px); }
Â  Â  Â  Â  .btn-play:active { transform: scale(0.95); }
Â  Â  Â  Â  .btn-stop { background: white; color: var(--danger); border: 1px solid #fee2e2; }
Â  Â  Â  Â  .btn-stop:hover { background: #fef2f2; transform: translateY(-2px); }
Â  Â  Â  Â  .btn-stop:active { transform: scale(0.95); }
Â  Â  Â  Â  /* ====== KEYBOARD GRID ====== */
Â  Â  Â  Â  .keyboard-grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  background: var(--card-bg);
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(12px);
Â  Â  Â  Â  Â  Â  border-radius: var(--radius-card);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255,255,255,0.5);
Â  Â  Â  Â  }
Â  Â  Â  Â  .key {
Â  Â  Â  Â  Â  Â  aspect-ratio: 1/1;
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(0,0,0,0.05);
Â  Â  Â  Â  Â  Â  border-radius: var(--radius-key);
Â  Â  Â  Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  color: var(--text-main);
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: all 0.15s ease;
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 5px rgba(0,0,0,0.05), inset 0 -2px 0 rgba(0,0,0,0.05);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .key:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0,0,0,0.08), inset 0 -2px 0 rgba(0,0,0,0.05);
Â  Â  Â  Â  }
Â  Â  Â  Â  .key:active, .key.active {
Â  Â  Â  Â  Â  Â  transform: translateY(1px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0 1px 2px rgba(0,0,0,0.05);
Â  Â  Â  Â  Â  Â  background: var(--primary);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border-color: var(--primary);
Â  Â  Â  Â  }
Â  Â  Â  Â  /* ====== INFO STAGE ====== */
Â  Â  Â  Â  #info-stage { width: 100%; display: none; }
Â  Â  Â  Â  #info-stage.visible {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  animation: slideUpFade 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes slideUpFade {
Â  Â  Â  Â  Â  Â  from { opacity: 0; transform: translateY(20px); }
Â  Â  Â  Â  Â  Â  to { opacity: 1; transform: translateY(0); }
Â  Â  Â  Â  }
Â  Â  Â  Â  .stage-card {
Â  Â  Â  Â  Â  Â  background: var(--card-bg);
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(12px);
Â  Â  Â  Â  Â  Â  border-radius: var(--radius-card);
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 30px rgba(0,0,0,0.08);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255,255,255,0.5);
Â  Â  Â  Â  }
Â  Â  Â  Â  .letter-header {
Â  Â  Â  Â  Â  Â  display: flex; align-items: center; gap: 20px;
Â  Â  Â  Â  Â  Â  margin-bottom: 30px; padding-bottom: 20px;
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid rgba(0,0,0,0.05);
Â  Â  Â  Â  }
Â  Â  Â  Â  .big-letter {
Â  Â  Â  Â  Â  Â  font-size: 5rem; font-weight: 900; line-height: 1;
Â  Â  Â  Â  Â  Â  color: var(--primary); cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â 
Â  Â  Â  Â  .phonetic {
Â  Â  Â  Â  Â  Â  font-family: 'Courier New', monospace; font-size: 1.5rem;
Â  Â  Â  Â  Â  Â  color: var(--text-muted); background: rgba(0,0,0,0.05);
Â  Â  Â  Â  Â  Â  padding: 5px 15px; border-radius: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .rules-container { display: grid; gap: 25px; }
Â  Â  Â  Â  .rule-block h3 {
Â  Â  Â  Â  Â  Â  font-size: 1.1rem; margin-bottom: 12px;
Â  Â  Â  Â  Â  Â  color: var(--text-main); display: flex; align-items: center; gap: 8px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .rule-block h3::before {
Â  Â  Â  Â  Â  Â  content: ''; display: block; width: 6px; height: 6px;
Â  Â  Â  Â  Â  Â  background: var(--primary); border-radius: 50%;
Â  Â  Â  Â  }
Â  Â  Â  Â  .examples-list { display: flex; flex-wrap: wrap; gap: 10px; }
Â  Â  Â  Â  .example-word {
Â  Â  Â  Â  Â  Â  background: white; padding: 8px 16px; border-radius: 20px;
Â  Â  Â  Â  Â  Â  font-weight: 600; font-size: 0.95rem; color: var(--text-main);
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 4px rgba(0,0,0,0.05); cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: all 0.2s; border: 1px solid transparent;
Â  Â  Â  Â  Â  Â  display: flex; align-items: center; gap: 6px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .example-word::after { content: 'ğŸ”Š'; font-size: 0.8em; opacity: 0.5; }
Â  Â  Â  Â  .example-word:hover { transform: translateY(-2px); border-color: var(--primary); color: var(--primary); }
Â  Â  Â  Â  .example-word:active { transform: scale(0.95); }
Â  Â  Â  Â  @media (max-width: 600px) {
Â  Â  Â  Â  Â  Â  .keyboard-grid { grid-template-columns: repeat(6, 1fr); padding: 10px; gap: 6px; }
Â  Â  Â  Â  Â  Â  .key { font-size: 1.2rem; border-radius: 8px; }
Â  Â  Â  Â  Â  Â  .big-letter { font-size: 4rem; }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>

Â  Â  <div class="main-container">
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  <h1 class="page-title">The Alphabet Masterclass</h1>
Â  Â  Â  Â  Â  Â  <div class="page-subtitle">English Letter Sounds and Rules</div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="controls-container">
Â  Â  Â  Â  Â  Â  <button class="ctrl-btn btn-play" onclick="playAll()">
Â  Â  Â  Â  Â  Â  Â  Â  <span>â–¶</span> Play All
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  <button class="ctrl-btn btn-stop" onclick="stopAll()">
Â  Â  Â  Â  Â  Â  Â  Â  <span>â¹</span> Stop
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="keyboard-grid" id="keyboard-container">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="info-stage">
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  <script>
Â  Â  Â  Â  // === 1. BASE DE DATOS DEL ALFABETO COMPLETA ===
Â  Â  Â  Â  const alphabetData = {
Â  Â  Â  Â  Â  Â  "A": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/eÉª/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Short 'A' /Ã¦/", words: ["Cat", "Map", "Apple", "Back", "Happy", "Dad", "Hat", "Man", "Fan"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Long 'A' /eÉª/", words: ["Cake", "Name", "Rain", "Day", "Play", "Late", "Face", "Baby", "Train"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Schwa 'A' /É™/", words: ["About", "Banana", "Zebra", "Again", "Sofa", "Pizza", "Balloon", "Away"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Open 'A' /É‘/", words: ["Father"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "R-Controlled 'A' /É‘r/", words: ["Car", "Start", "Park", "Dark", "Art", "Far", "Hard"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "B": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/biË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /b/", words: ["Boy", "Baby", "Book", "Bird", "Blue", "Best", "Big", "Bank", "Brother"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'B'", words: ["Comb", "Thumb", "Lamb", "Climb", "Bomb", "Debt", "Doubt", "Crumb"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "C": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/siË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Hard 'C' /k/", words: ["Cat", "Cold", "Cup", "Car", "Cake", "Cut", "Computer", "Class", "Cool"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Soft 'C' /s/", words: ["City", "Cent", "Cycle", "Circle", "Face", "Rice", "Ice", "Cell", "Pencil"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Sound /Êƒ/ (SH)", words: ["Ocean", "Special", "Social", "Delicious", "Musician", "Ancient"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "D": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/diË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /d/", words: ["Dog", "Day", "Door", "Dad", "Desk", "Dinner", "Doctor", "Dark", "Drive"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'D'", words: ["Wednesday", "Handsome", "Sandwich", "Grandmother", "Handkerchief"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "E": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/iË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Short 'E' /É›/", words: ["Bed", "Red", "Pen", "Egg", "Ten", "Men", "Check", "Head", "Bread"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Long 'E' /iË/", words: ["Me", "See", "Team", "Tree", "Green", "Eat", "Sleep", "Clean", "Be"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'E'", words: ["Make", "Time", "Hope", "Late", "Name", "Drive", "Home", "Cute", "Bike"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "F": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/É›f/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /f/", words: ["Fish", "Fun", "Life", "Food", "Family", "Fast", "Off", "Coffee", "Safe"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Ph /f/", words: ["Phone", "Photo", "Elephant", "Graph", "Dolphin", "Phrase", "Alphabet"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "G": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/dÊ’iË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Hard 'G' /g/", words: ["Go", "Game", "Good", "Get", "Gate", "Garden", "Glass", "Dog", "Big"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Soft 'G' /dÊ’/", words: ["Gym", "Giant", "Giraffe", "General", "Energy", "Angel", "Orange", "Change"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'G'", words: ["Sign", "Foreign", "Design", "Assign", "Champagne", "Gnat"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "H": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/eÉªtÊƒ/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /h/", words: ["House", "Hello", "Happy", "Home", "Help", "Head", "Hotel", "Hand"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'H'", words: ["Hour", "Honest", "Ghost", "Honor", "Vehicle", "What", "Heir", "Rhyme"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "I": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/aÉª/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Short 'I' /Éª/", words: ["Sit", "Big", "Hit", "In", "It", "Fish", "Milk", "Pink", "Six"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Long 'I' /aÉª/", words: ["Ice", "Time", "Bike", "Like", "Night", "Five", "Smile", "Drive", "Hi"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "J": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/dÊ’eÉª/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /dÊ’/", words: ["Jump", "Job", "Juice", "Jacket", "July", "Just", "Jet", "Jar", "Enjoy"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "K": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/keÉª/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /k/", words: ["Kite", "Key", "King", "Keep", "Kitchen", "Kick", "Kid", "Back", "Look"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'K'", words: ["Knee", "Know", "Knife", "Knock", "Knight", "Knot", "Knowledge", "Knitting"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "L": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/É›l/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /l/", words: ["Love", "Ball", "Light", "Lemon", "Lake", "Long", "School", "Hello"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'L'", words: ["Walk", "Talk", "Half", "Salmon", "Calm", "Could", "Should", "Would"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "M": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/É›m/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /m/", words: ["Mom", "Time", "Man", "Money", "Milk", "More", "Room", "Team", "Summer"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "N": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/É›n/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /n/", words: ["No", "Night", "Name", "New", "Nice", "Nine", "Sun", "Moon", "Open"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'N'", words: ["Autumn", "Column", "Hymn", "Damn", "Solemn"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "O": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/oÊŠ/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Short 'O' /É‘/", words: ["Hot", "Stop", "Box", "Dog", "On", "Job", "Lot", "Mom", "Clock"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Long 'O' /oÊŠ/", words: ["Go", "Home", "No", "Hope", "Open", "Rose", "Phone", "Old", "Gold"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Sound /uË/", words: ["To", "Do", "Move", "Shoe", "Who", "Two"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "P": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/piË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /p/", words: ["Pen", "Park", "Pig", "Put", "Paper", "Play", "Apple", "Happy", "Stop"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'P'", words: ["Psychology", "Receipt", "Psychic", "Pneumonia", "Cupboard", "Raspberry"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "Q": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/kjuË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Always /kw/", words: ["Queen", "Quick", "Quiet", "Question", "Quiz", "Quality", "Quarter", "Square", "Equal"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "R": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/É‘r/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /r/", words: ["Run", "Red", "Rain", "Read", "Room", "Car", "Star", "Door", "More"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "S": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/É›s/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Unvoiced /s/", words: ["Sun", "Bus", "Snake", "Sit", "See", "House", "Mouse", "Yes", "Stop"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Voiced /z/", words: ["Is", "Was", "His", "Rose", "Nose", "Close", "Music", "Please", "Dogs"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Sound /Êƒ/", words: ["Sugar", "Sure", "Passion", "Session", "Tissue", "Pressure"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "T": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/tiË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "True 'T'", words: ["Top", "Time", "Ten", "Table", "Talk", "Take", "Tea", "Hot", "Cat"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Flap 'T'", words: ["Water", "Better", "Letter", "Butter", "City", "Little", "Party", "Bottle"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'T'", words: ["Listen", "Castle", "Often", "Christmas", "Whistle", "Softly", "Ballet"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "U": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/juË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Short 'U' /ÊŒ/", words: ["Up", "Bus", "Cup", "Sun", "Run", "Cut", "Fun", "Duck", "Under"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Long 'U' /juË/ (with y-sound)", words: ["Use", "Cute", "Huge", "Music", "Tube", "Computer", "Unit", "Unicorn"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Sound /uË/ (without y-sound)", words: ["Blue", "True", "Glue", "June", "Ruler", "Fruit", "Juice"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "V": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/viË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /v/", words: ["Van", "Voice", "Very", "Visit", "Love", "Have", "Five", "Move", "Seven"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "W": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/ËˆdÊŒbÉ™ljuË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /w/", words: ["Win", "Water", "We", "Wait", "Walk", "Week", "Window", "Away", "Sweet"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Silent 'W'", words: ["Write", "Wrong", "Who", "Whole", "Wrap", "Wrist", "Answer", "Sword"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "X": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/É›ks/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Ks Sound /ks/", words: ["Box", "Fox", "Six", "Mix", "Fix", "Taxi", "Next", "Exit"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Gz Sound /gz/", words: ["Exam", "Example", "Exist", "Exact"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Z Sound /z/", words: ["Xylophone", "Xenon"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "Y": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/waÉª/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Consonant /j/", words: ["Yes", "You", "Yellow", "Young", "Year", "Yard", "Yogurt", "Yesterday"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Vowel /i/", words: ["Happy", "Baby", "City", "Funny", "Sunny", "Party", "Very", "Many"] },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Vowel /aÉª/", words: ["My", "Cry", "Fly", "Sky", "Try", "Why", "Dry", "Bye"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  "Z": {
Â  Â  Â  Â  Â  Â  Â  Â  phonetic: "/ziË/",
Â  Â  Â  Â  Â  Â  Â  Â  rules: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { name: "Standard /z/", words: ["Zoo", "Zero", "Zebra", "Zone", "Zip", "Size", "Prize", "Crazy", "Lazy"] }
Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };
Â  Â  Â  Â  // === 2. VARIABLES GLOBALES ===
Â  Â  Â  Â  const keyboardContainer = document.getElementById('keyboard-container');
Â  Â  Â  Â  const infoStage = document.getElementById('info-stage');
Â  Â  Â  Â  let activeKey = null;
Â  Â  Â  Â  let isPlayingAll = false;
Â  Â  Â  Â  let allKeys = []; // Array para guardar referencias a los botones
Â  Â  Â  Â  // === 3. TEXT-TO-SPEECH (MEJORADO) ===
Â  Â  Â  Â  function speak(text, callback = null) {
Â  Â  Â  Â  Â  Â  window.speechSynthesis.cancel();
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  // TRUCO PARA EVITAR "CAPITAL":
Â  Â  Â  Â  Â  Â  // Si el texto es una sola letra mayÃºscula (A-Z), la convertimos a minÃºscula.
Â  Â  Â  Â  Â  Â  let textToSpeak = text;
Â  Â  Â  Â  Â  Â  if (text.length === 1 && text.match(/[A-Z]/)) {
Â  Â  Â  Â  Â  Â  Â  Â  textToSpeak = text.toLowerCase();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const utterance = new SpeechSynthesisUtterance(textToSpeak);
Â  Â  Â  Â  Â  Â  utterance.lang = 'en-US';
Â  Â  Â  Â  Â  Â  utterance.rate = 0.9;
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  if (callback) {
Â  Â  Â  Â  Â  Â  Â  Â  utterance.onend = callback;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  window.speechSynthesis.speak(utterance);
Â  Â  Â  Â  }
Â  Â  Â  Â  // === 4. LÃ“GICA DE INTERFAZ ===
Â  Â  Â  Â  function initKeyboard() {
Â  Â  Â  Â  Â  Â  const letters = Object.keys(alphabetData);
Â  Â  Â  Â  Â  Â  letters.forEach((letter, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const keyBtn = document.createElement('button');
Â  Â  Â  Â  Â  Â  Â  Â  keyBtn.classList.add('key');
Â  Â  Â  Â  Â  Â  Â  Â  keyBtn.innerText = letter;
Â  Â  Â  Â  Â  Â  Â  Â  // Guardamos referencia al Ã­ndice para el loop
Â  Â  Â  Â  Â  Â  Â  Â  keyBtn.dataset.index = index;
Â  Â  Â  Â  Â  Â  Â  Â  keyBtn.onclick = () => handleKeyClick(letter, keyBtn);
Â  Â  Â  Â  Â  Â  Â  Â  keyboardContainer.appendChild(keyBtn);
Â  Â  Â  Â  Â  Â  Â  Â  allKeys.push(keyBtn);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  // Actualiza SOLO la interfaz (sin hablar)
Â  Â  Â  Â  function updateUI(letter, btnElement) {
Â  Â  Â  Â  Â  Â  if (activeKey) activeKey.classList.remove('active');
Â  Â  Â  Â  Â  Â  btnElement.classList.add('active');
Â  Â  Â  Â  Â  Â  activeKey = btnElement;
Â  Â  Â  Â  Â  Â  const data = alphabetData[letter];
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  let rulesHTML = '';
Â  Â  Â  Â  Â  Â  data.rules.forEach(rule => {
Â  Â  Â  Â  Â  Â  Â  Â  let examplesHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  rule.words.forEach(word => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cleanWord = word.split('(')[0].trim();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  examplesHTML += `<span class="example-word" onclick="speak('${cleanWord}')">${word}</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  rulesHTML += `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rule-block">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>${rule.name}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="examples-list">${examplesHTML}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  infoStage.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stage-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="letter-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="big-letter" onclick="speak('${letter}')">${letter}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="phonetic">${data.phonetic}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="rules-container">${rulesHTML}</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  infoStage.classList.remove('visible');
Â  Â  Â  Â  Â  Â  void infoStage.offsetWidth; // Trigger reflow
Â  Â  Â  Â  Â  Â  infoStage.classList.add('visible');
Â  Â  Â  Â  }
Â  Â  Â  Â  // Maneja el clic manual del usuario
Â  Â  Â  Â  function handleKeyClick(letter, btnElement) {
Â  Â  Â  Â  Â  Â  stopAll(); // Detener el loop si el usuario hace clic manual
Â  Â  Â  Â  Â  Â  updateUI(letter, btnElement);
Â  Â  Â  Â  Â  Â  speak(letter);
Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  // --- NUEVO: GUARDAR EN LOCALSTORAGE ---
Â  Â  Â  Â  Â  Â  localStorage.setItem('mdc_alphabet_last_letter', letter);
Â  Â  Â  Â  }
Â  Â  Â  Â  // === 5. LOGICA PLAY ALL ===
Â  Â  Â  Â  function playAll() {
Â  Â  Â  Â  Â  Â  if (isPlayingAll) return; // Evitar doble play
Â  Â  Â  Â  Â  Â  isPlayingAll = true;
Â  Â  Â  Â  Â  Â  playSequence(0);
Â  Â  Â  Â  }
Â  Â  Â  Â  function stopAll() {
Â  Â  Â  Â  Â  Â  isPlayingAll = false;
Â  Â  Â  Â  Â  Â  window.speechSynthesis.cancel();
Â  Â  Â  Â  }
Â  Â  Â  Â  function playSequence(index) {
Â  Â  Â  Â  Â  Â  if (!isPlayingAll || index >= allKeys.length) {
Â  Â  Â  Â  Â  Â  Â  Â  isPlayingAll = false;
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const letter = Object.keys(alphabetData)[index];
Â  Â  Â  Â  Â  Â  const btn = allKeys[index];
Â  Â  Â  Â  Â  Â  // Actualizamos la UI visualmente
Â  Â  Â  Â  Â  Â  updateUI(letter, btn);
Â  Â  Â  Â  Â  Â  // Hablamos la letra y al terminar ('onend') llamamos a la siguiente
Â  Â  Â  Â  Â  Â  speak(letter, () => {
Â  Â  Â  Â  Â  Â  Â  Â  if (isPlayingAll) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  playSequence(index + 1);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 800); // PequeÃ±a pausa entre letras
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  // Arrancar
Â  Â  Â  Â  initKeyboard();
Â  Â  Â  Â  // --- NUEVO: RESTAURAR ESTADO AL CARGAR ---
Â  Â  Â  Â  const savedLetter = localStorage.getItem('mdc_alphabet_last_letter');
Â  Â  Â  Â  if (savedLetter && alphabetData[savedLetter]) {
Â  Â  Â  Â  Â  Â  // Buscar el botÃ³n correspondiente
Â  Â  Â  Â  Â  Â  const keys = Object.keys(alphabetData);
Â  Â  Â  Â  Â  Â  const index = keys.indexOf(savedLetter);
Â  Â  Â  Â  Â  Â  if (index !== -1) {
Â  Â  Â  Â  Â  Â  Â  Â  const btn = allKeys[index];
Â  Â  Â  Â  Â  Â  Â  Â  updateUI(savedLetter, btn);
Â  Â  Â  Â  Â  Â  Â  Â  // No llamamos a speak() aquÃ­ para no molestar al recargar
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
