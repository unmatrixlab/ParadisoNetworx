<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Tarjetas de Video v2</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f3f4f6; padding: 40px; display: flex; justify-content: center; }
        .card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%; max-width: 500px; }
        h2 { text-align: center; color: #1f2937; margin-bottom: 20px; }
        
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: 600; margin-bottom: 5px; color: #4b5563; font-size: 0.9rem; }
        input, select { width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; box-sizing: border-box; }
        input:focus, select:focus { outline: none; border-color: #4f46e5; ring: 2px solid #4f46e5; }
        
        button { width: 100%; padding: 12px; background: #4f46e5; color: white; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; font-size: 16px; margin-top: 10px; transition: 0.2s; }
        button:hover { background: #4338ca; }
        
        .output-area { margin-top: 20px; position: relative; }
        textarea { width: 100%; height: 250px; padding: 10px; background: #1f2937; color: #a5b4fc; border-radius: 6px; font-family: monospace; font-size: 12px; border: none; resize: none; box-sizing: border-box; }
        
        .copy-btn { position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); font-size: 12px; padding: 5px 10px; width: auto; margin: 0; border: 1px solid rgba(255,255,255,0.3); color: white; }
        .copy-btn:hover { background: rgba(255,255,255,0.3); }

        .preview-text { text-align: center; font-size: 0.8rem; color: #6b7280; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="card">
        <h2>üì∫ Creador de Tarjetas Pro</h2>
        
        <div class="form-group">
            <label>Categor√≠a</label>
            <select id="category">
                <option value="ted">TED Talk (Default)</option>
                <option value="musical">M√∫sica / Video Musical</option>
                <option value="interview">Entrevista / Podcast</option>
            </select>
        </div>

        <div class="form-group">
            <label>Link de YouTube (o ID)</label>
            <input type="text" id="ytLink" placeholder="Ej: https://www.youtube.com/watch?v=-moW9jvvMr4">
        </div>

        <div class="form-group">
            <label>T√≠tulo del Video</label>
            <input type="text" id="title" placeholder="Ej: Sleep Is Your Superpower">
        </div>

        <div class="form-group">
            <label>Autor / Speaker</label>
            <input type="text" id="author" placeholder="Ej: Matt Walker">
        </div>

        <div class="form-group">
            <label>Link de tu p√°gina (Destino)</label>
            <input type="text" id="pageLink" placeholder="Ej: https://paradisonetworx.com/mdceng005.html">
        </div>

        <button onclick="generarCodigo()">‚ú® Generar C√≥digo HTML</button>

        <div class="output-area" id="outputContainer" style="display:none;">
            <button class="copy-btn" onclick="copiar()">Copiar</button>
            <textarea id="output" readonly></textarea>
            <div class="preview-text">Copia esto y p√©galo en tu archivo Library.html</div>
        </div>
    </div>

    <script>
        function getYoutubeId(url) {
            if (!url) return '';
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : url;
        }

        function generarCodigo() {
            const catSelect = document.getElementById('category').value;
            const url = document.getElementById('ytLink').value;
            const title = document.getElementById('title').value;
            const author = document.getElementById('author').value;
            const pageLink = document.getElementById('pageLink').value;
            const id = getYoutubeId(url);

            if (!id || !title || !pageLink) {
                alert("Por favor completa al menos el Link de YouTube, T√≠tulo y Link de Destino.");
                return;
            }

            // L√≥gica para determinar estilos y atributos seg√∫n la categor√≠a
            let dataCategory = "ted";
            let tagName = "TED";
            let tagStyle = ""; // Estilo por defecto (gris transparente)

            if (catSelect === 'musical') {
                dataCategory = "musical";
                tagName = "MUSIC";
                tagStyle = ' style="background: rgba(236, 72, 153, 0.4);"'; // Rosa
            } else if (catSelect === 'interview') {
                dataCategory = "interview";
                tagName = "TALK";
                tagStyle = ' style="background: rgba(59, 130, 246, 0.4);"'; // Azul
            }

            // PLANTILLA CON VARIABLES DE CATEGOR√çA
            const html = `
        <!-- Video: ${title} -->
        <a href="${pageLink}" class="card-link" data-category="${dataCategory}">
            <div class="video-card">
                <img src="https://i.ytimg.com/vi/${id}/maxresdefault.jpg" alt="Thumbnail">
                
                <div class="play-icon">
                    <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                </div>

                <div class="info-overlay">
                    <div class="video-author">
                        <span class="tag"${tagStyle}>${tagName}</span>
                        ${author}
                    </div>
                    <div class="video-title">${title}</div>
                </div>
            </div>
        </a>`;

            document.getElementById('output').value = html;
            document.getElementById('outputContainer').style.display = 'block';
        }

        function copiar() {
            const copyText = document.getElementById("output");
            copyText.select();
            navigator.clipboard.writeText(copyText.value);
            alert("¬°C√≥digo copiado! Ahora p√©galo en tu librer√≠a.");
        }
    </script>
</body>
</html>
