<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>12 English Tenses with "work" â€“ Affirmative / Negative / Question</title>
  <style>
    :root{
      --bg: #0b1220;
      --card: #111a2b;
      --muted: #9fb0c6;
      --text: #e9f0ff;
      --accent: #7aa2ff;
      --accent-2: #8ef5d6;
      --ring: 0 0 0 2px rgba(122,162,255,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background: radial-gradient(1200px 600px at 10% -10%, #1a2640 0%, transparent 60%),
                  radial-gradient(1200px 600px at 90% 10%, #16324a 0%, transparent 60%),
                  linear-gradient(180deg, #0b1220, #0b1220 40%, #0e1627);
    }
    header{
      position: sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(11,18,32,.6);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .wrap{max-width:1100px; margin:0 auto; padding:24px;}
    .title{display:flex; align-items:flex-end; gap:12px; flex-wrap:wrap}
    h1{font-size: clamp(20px, 3vw, 32px); margin:0}
    .subtitle{color:var(--muted); font-size:14px}

    .controls{
      display:flex; gap:16px; align-items:center; flex-wrap:wrap; margin-top:14px;
    }
    label{font-size:12px; color:var(--muted)}
    select, input[type="range"]{
      appearance:none; border:none; outline:none; color:var(--text);
      background: #0c1424; padding:10px 12px; border-radius:12px;
      border:1px solid rgba(255,255,255,.08);
    }
    .hint{font-size:12px; color:var(--muted)}

    main{padding: 18px 0 56px}
    .grid{
      display:grid; gap:18px;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
    .card{
      background: linear-gradient(180deg, #111a2b, #0f1726);
      border:1px solid rgba(255,255,255,.06);
      border-radius:18px; overflow:hidden; box-shadow: 0 10px 30px rgba(0,0,0,.35);
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .card:hover{ transform: translateY(-2px); box-shadow: 0 14px 36px rgba(0,0,0,.45); border-color: rgba(122,162,255,.25); }
    .card .head{ padding:16px 16px 10px; border-bottom:1px solid rgba(255,255,255,.06); background: linear-gradient(180deg, rgba(122,162,255,.08), transparent); cursor: pointer;}
    .card h2{ font-size:18px; margin:0 0 6px}
    .tags{display:flex; gap:8px; flex-wrap:wrap}
    .tag{font-size:11px; color:#091225; background: linear-gradient(180deg, var(--accent), var(--accent-2)); padding:6px 10px; border-radius:999px; font-weight:700; letter-spacing:.2px}

    .list{ padding: 10px 6px 12px }
    .row{ display:grid; grid-template-columns: 1fr auto; align-items:center; gap:8px; padding:6px 8px; border-radius:12px;}
    .row + .row{ margin-top:6px }
    .row:hover{ background: rgba(255,255,255,.04)}
    .label{ font-size:12px; color: var(--muted); margin-right:8px }
    .text{ font-size:15px; line-height:1.45 }

    .speak{
      display:inline-flex; align-items:center; gap:8px; cursor:pointer;
      border: 1px solid rgba(255,255,255,.1); background:#0d1628; color:var(--text);
      padding:8px 12px; border-radius:12px; font-weight:600; font-size:13px;
      transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .speak:hover{ border-color: rgba(122,162,255,.4); box-shadow: var(--ring) }
    .speak:active{ transform: scale(.98) }
    .speak[aria-pressed="true"]{ border-color: rgba(142,245,214,.6) }

    .popup {
      display: none;
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      background: var(--card); border: 1px solid rgba(255,255,255,.1);
      border-radius: 12px; padding: 24px; max-width: 600px; width: 90%;
      box-shadow: 0 20px 40px rgba(0,0,0,.5); z-index: 100;
      max-height: 80vh; overflow-y: auto;
    }
    .popup-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
    .popup-header h3 { margin: 0; font-size: 20px; }
    .popup-close {
      cursorJorge
      cursor: pointer; background: none; border: none; color: var(--text);
      font-size: 18px; padding: 8px; line-height: 1;
    }
    .popup-content { font-size: 14px; line-height: 1.6; color: var(--text); }
    .popup-content h4 { margin: 16px 0 8px; font-size: 16px; }
    .popup-content ul { margin: 8px 0; padding-left: 20px; }
    .popup-content li { margin-bottom: 8px; }
    .overlay {
      display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,.7); z-index: 99;
    }

    .footer{max-width:1100px; margin: 22px auto; color:var(--muted); text-align:center; font-size:12px}
    .kbd{background:#0e1a31;border:1px solid rgba(255,255,255,.12); padding:2px 6px; border-radius:6px}
  </style>
</head>
<body>
  <div class="overlay" id="overlay"></div>
  <header>
    <div class="wrap">
      <div class="title">
        <h1>12 English Tenses with <em>work</em></h1>
        <span class="subtitle">Affirmative âœ… â€¢ Negative âŒ â€¢ Question â“ â€” with read-aloud buttons</span>
      </div>
      <div class="controls">
        <div>
          <label for="voice">Voice:</label><br>
          <select id="voice" aria-label="Select voice"></select>
        </div>
        <div>
          <label for="rate">Speed: <span id="rateVal">1.0</span>x</label><br>
          <input id="rate" type="range" min="0.6" max="1.4" step="0.05" value="1.0" />
        </div>
        <div>
          <label for="pitch">Pitch: <span id="pitchVal">1.0</span></label><br>
          <input id="pitch" type="range" min="0.7" max="1.3" step="0.05" value="1.0" />
        </div>
        <span class="hint">Tip: Click the ğŸ”Š button to hear the sentence or the tense title for a detailed explanation.</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid" id="cards">

      <!-- 1. Present Simple -->
      <article class="card" data-tense="present-simple">
        <div class="head">
          <h2>1) Present Simple</h2>
          <div class="tags"><span class="tag">habit / fact</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I work every day.</div>
            <button class="speak" data-utterance="I work every day.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I donâ€™t work on Sundays.</div>
            <button class="speak" data-utterance="I don't work on Sundays.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Do you work here?</div>
            <button class="speak" data-utterance="Do you work here?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 2. Present Continuous -->
      <article class="card" data-tense="present-continuous">
        <div class="head">
          <h2>2) Present Continuous</h2>
          <div class="tags"><span class="tag">now / in progress</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I am working right now.</div>
            <button class="speak" data-utterance="I am working right now.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I am not working at the moment.</div>
            <button class="speak" data-utterance="I am not working at the moment.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Are you working today?</div>
            <button class="speak" data-utterance="Are you working today?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 3. Present Perfect -->
      <article class="card" data-tense="present-perfect">
        <div class="head">
          <h2>3) Present Perfect</h2>
          <div class="tags"><span class="tag">past â†’ present</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I have worked here since 2010.</div>
            <button class="speak" data-utterance="I have worked here since twenty ten.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I havenâ€™t worked there before.</div>
            <button class="speak" data-utterance="I haven't worked there before.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Have you worked in this company?</div>
            <button class="speak" data-utterance="Have you worked in this company?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 4. Present Perfect Continuous -->
      <article class="card" data-tense="present-perfect-continuous">
        <div class="head">
          <h2>4) Present Perfect Continuous</h2>
          <div class="tags"><span class="tag">duration</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I have been working all morning.</div>
            <button class="speak" data-utterance="I have been working all morning.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I havenâ€™t been working much lately.</div>
            <button class="speak" data-utterance="I haven't been working much lately.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Have you been working hard today?</div>
            <button class="speak" data-utterance="Have you been working hard today?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 5. Past Simple -->
      <article class="card" data-tense="past-simple">
        <div class="head">
          <h2>5) Past Simple</h2>
          <div class="tags"><span class="tag">finished past</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I worked yesterday.</div>
            <button class="speak" data-utterance="I worked yesterday.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I didnâ€™t work last night.</div>
            <button class="speak" data-utterance="I didn't work last night.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Did you work last week?</div>
            <button class="speak" data-utterance="Did you work last week?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 6. Past Continuous -->
      <article class="card" data-tense="past-continuous">
        <div class="head">
          <h2>6) Past Continuous</h2>
          <div class="tags"><span class="tag">past in progress</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I was working when you called.</div>
            <button class="speak" data-utterance="I was working when you called.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I wasnâ€™t working at that time.</div>
            <button class="speak" data-utterance="I wasn't working at that time.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Were you working last night?</div>
            <button class="speak" data-utterance="Were you working last night?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 7. Past Perfect -->
      <article class="card" data-tense="past-perfect">
        <div class="head">
          <h2>7) Past Perfect</h2>
          <div class="tags"><span class="tag">past before past</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I had worked before I moved here.</div>
            <button class="speak" data-utterance="I had worked before I moved here.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I hadnâ€™t worked in that field before.</div>
            <button class="speak" data-utterance="I hadn't worked in that field before.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Had you worked there before the crisis?</div>
            <button class="speak" data-utterance="Had you worked there before the crisis?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 8. Past Perfect Continuous -->
      <article class="card" data-tense="past-perfect-continuous">
        <div class="head">
          <h2>8) Past Perfect Continuous</h2>
          <div class="tags"><span class="tag">duration before past</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I had been working for two hours when she arrived.</div>
            <button class="speak" data-utterance="I had been working for two hours when she arrived.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I hadnâ€™t been working long before the meeting.</div>
            <button class="speak" data-utterance="I hadn't been working long before the meeting.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Had you been working all day before you left?</div>
            <button class="speak" data-utterance="Had you been working all day before you left?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 9. Future Simple (Will) -->
      <article class="card" data-tense="future-simple">
        <div class="head">
          <h2>9) Future Simple (will)</h2>
          <div class="tags"><span class="tag">prediction / decision</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I will work tomorrow.</div>
            <button class="speak" data-utterance="I will work tomorrow.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I wonâ€™t work next Sunday.</div>
            <button class="speak" data-utterance="I won't work next Sunday.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Will you work next week?</div>
            <button class="speak" data-utterance="Will you work next week?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 10. Future Continuous -->
      <article class="card" data-tense="future-continuous">
        <div class="head">
          <h2>10) Future Continuous</h2>
          <div class="tags"><span class="tag">future in progress</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I will be working at 8 pm.</div>
            <button class="speak" data-utterance="I will be working at eight p.m.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I wonâ€™t be working at that time.</div>
            <button class="speak" data-utterance="I won't be working at that time.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Will you be working late tonight?</div>
            <button class="speak" data-utterance="Will you be working late tonight?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 11. Future Perfect -->
      <article class="card" data-tense="future-perfect">
        <div class="head">
          <h2>11) Future Perfect</h2>
          <div class="tags"><span class="tag">completed by a time</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I will have worked 10 hours by 6 pm.</div>
            <button class="speak" data-utterance="I will have worked ten hours by six p.m.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I wonâ€™t have worked enough by then.</div>
            <button class="speak" data-utterance="I won't have worked enough by then.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Will you have worked 40 hours by Friday?</div>
            <button class="speak" data-utterance="Will you have worked forty hours by Friday?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

      <!-- 12. Future Perfect Continuous -->
      <article class="card" data-tense="future-perfect-continuous">
        <div class="head">
          <h2>12) Future Perfect Continuous</h2>
          <div class="tags"><span class="tag">duration to a time</span></div>
        </div>
        <div class="list">
          <div class="row">
            <div class="text"><span class="label">âœ…</span> I will have been working for 5 years by next June.</div>
            <button class="speak" data-utterance="I will have been working for five years by next June.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">âŒ</span> I wonâ€™t have been working here that long.</div>
            <button class="speak" data-utterance="I won't have been working here that long.">ğŸ”Š Read</button>
          </div>
          <div class="row">
            <div class="text"><span class="label">â“</span> Will you have been working here for 10 years by 2030?</div>
            <button class="speak" data-utterance="Will you have been working here for ten years by twenty thirty?">ğŸ”Š Read</button>
          </div>
        </div>
      </article>

    </div>
  </main>

  <div class="popup" id="tensePopup">
    <div class="popup-header">
      <h3 id="popupTitle"></h3>
      <button class="popup-close" id="closePopup">âœ•</button>
    </div>
    <div class="popup-content" id="popupContent"></div>
  </div>

  <div class="footer">
    Made with â™¥ â€” Click the tense title for detailed explanations or ğŸ”Š to hear examples.
  </div>

  <script>
    (function(){
      const voiceSelect = document.getElementById('voice');
      const rate = document.getElementById('rate');
      const pitch = document.getElementById('pitch');
      const rateVal = document.getElementById('rateVal');
      const pitchVal = document.getElementById('pitchVal');
      const overlay = document.getElementById('overlay');
      const tensePopup = document.getElementById('tensePopup');
      const popupTitle = document.getElementById('popupTitle');
      const popupContent = document.getElementById('popupContent');
      const closePopup = document.getElementById('closePopup');

      const commonEnglishVoices = [
        'en-US', 'en-GB', 'en-AU', 'en-CA', 'en-IN', 'en-NZ'
      ];
      let voices = [];

      const tenseExplanations = {
        'present-simple': {
          title: 'Present Simple',
          content: `
            <h4>Overview</h4>
            <p>The Present Simple is used to describe habits, general truths, routines, and facts that are always or generally true.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + base verb (add -s or -es for third person singular)</li>
              <li><strong>Negative</strong>: Subject + do/does + not + base verb</li>
              <li><strong>Question</strong>: Do/Does + subject + base verb?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Habits and routines: <em>I work every day.</em></li>
              <li>General facts: <em>The sun rises in the east.</em></li>
              <li>Scheduled events: <em>The train leaves at 7 PM.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>She works in a hospital. <button class="speak" data-utterance="She works in a hospital.">ğŸ”Š Read</button></li>
              <li>They donâ€™t play football on Sundays. <button class="speak" data-utterance="They don't play football on Sundays.">ğŸ”Š Read</button></li>
              <li>Does he work here? <button class="speak" data-utterance="Does he work here?">ğŸ”Š Read</button></li>
              <li>We always work late on Mondays. <button class="speak" data-utterance="We always work late on Mondays.">ğŸ”Š Read</button></li>
              <li>She doesnâ€™t like working early. <button class="speak" data-utterance="She doesn't like working early.">ğŸ”Š Read</button></li>
              <li>Do they work together? <button class="speak" data-utterance="Do they work together?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'present-continuous': {
          title: 'Present Continuous',
          content: `
            <h4>Overview</h4>
            <p>The Present Continuous describes actions happening right now or temporary situations.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + am/is/are + verb + -ing</li>
              <li><strong>Negative</strong>: Subject + am/is/are + not + verb + -ing</li>
              <li><strong>Question</strong>: Am/Is/Are + subject + verb + -ing?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Actions happening now: <em>I am working right now.</em></li>
              <li>Temporary actions: <em>She is living in London this year.</em></li>
              <li>Future plans: <em>We are meeting tomorrow.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>He is studying for his exams. <button class="speak" data-utterance="He is studying for his exams.">ğŸ”Š Read</button></li>
              <li>They arenâ€™t working today. <button class="speak" data-utterance="They aren't working today.">ğŸ”Š Read</button></li>
              <li>Are you coming to the party? <button class="speak" data-utterance="Are you coming to the party?">ğŸ”Š Read</button></li>
              <li>She is teaching a class now. <button class="speak" data-utterance="She is teaching a class now.">ğŸ”Š Read</button></li>
              <li>We arenâ€™t traveling this week. <button class="speak" data-utterance="We aren't traveling this week.">ğŸ”Š Read</button></li>
              <li>Is he playing football? <button class="speak" data-utterance="Is he playing football?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'present-perfect': {
          title: 'Present Perfect',
          content: `
            <h4>Overview</h4>
            <p>The Present Perfect connects past actions to the present, often focusing on experience or results.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + have/has + past participle</li>
              <li><strong>Negative</strong>: Subject + have/has + not + past participle</li>
              <li><strong>Question</strong>: Have/Has + subject + past participle?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Life experiences: <em>I have worked here since 2010.</em></li>
              <li>Completed actions with present relevance: <em>She has just finished her homework.</em></li>
              <li>Unspecified time: <em>Have you ever worked abroad?</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>We have seen that movie. <button class="speak" data-utterance="We have seen that movie.">ğŸ”Š Read</button></li>
              <li>He hasnâ€™t visited Paris. <button class="speak" data-utterance="He hasn't visited Paris.">ğŸ”Š Read</button></li>
              <li>Have they finished the project? <button class="speak" data-utterance="Have they finished the project?">ğŸ”Š Read</button></li>
              <li>I have just completed a task. <button class="speak" data-utterance="I have just completed a task.">ğŸ”Š Read</button></li>
              <li>She hasnâ€™t tried sushi before. <button class="speak" data-utterance="She hasn't tried sushi before.">ğŸ”Š Read</button></li>
              <li>Have you ever been to London? <button class="speak" data-utterance="Have you ever been to London?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'present-perfect-continuous': {
          title: 'Present Perfect Continuous',
          content: `
            <h4>Overview</h4>
            <p>The Present Perfect Continuous emphasizes the duration or ongoing nature of an action that started in the past and continues to the present.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + have/has + been + verb + -ing</li>
              <li><strong>Negative</strong>: Subject + have/has + not + been + verb + -ing</li>
              <li><strong>Question</strong>: Have/Has + subject + been + verb + -ing?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Ongoing actions with duration: <em>I have been working all morning.</em></li>
              <li>Actions with visible results: <em>Sheâ€™s tired because she has been working hard.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>They have been studying for hours. <button class="speak" data-utterance="They have been studying for hours.">ğŸ”Š Read</button></li>
              <li>I havenâ€™t been feeling well lately. <button class="speak" data-utterance="I haven't been feeling well lately.">ğŸ”Š Read</button></li>
              <li>Have you been working on this project? <button class="speak" data-utterance="Have you been working on this project?">ğŸ”Š Read</button></li>
              <li>She has been running every morning. <button class="speak" data-utterance="She has been running every morning.">ğŸ”Š Read</button></li>
              <li>We havenâ€™t been practicing much. <button class="speak" data-utterance="We haven't been practicing much.">ğŸ”Š Read</button></li>
              <li>Has he been studying all night? <button class="speak" data-utterance="Has he been studying all night?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'past-simple': {
          title: 'Past Simple',
          content: `
            <h4>Overview</h4>
            <p>The Past Simple describes actions that are completed in the past at a specific time.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + past verb (regular: -ed; irregular: 2nd form)</li>
              <li><strong>Negative</strong>: Subject + did + not + base verb</li>
              <li><strong>Question</strong>: Did + subject + base verb?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Completed actions: <em>I worked yesterday.</em></li>
              <li>Past habits: <em>We played soccer every weekend.</em></li>
              <li>Sequential events: <em>She arrived, ate, and left.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>He visited London last year. <button class="speak" data-utterance="He visited London last year.">ğŸ”Š Read</button></li>
              <li>They didnâ€™t go to the party. <button class="speak" data-utterance="They didn't go to the party.">ğŸ”Š Read</button></li>
              <li>Did you see the movie? <button class="speak" data-utterance="Did you see the movie?">ğŸ”Š Read</button></li>
              <li>She worked late yesterday. <button class="speak" data-utterance="She worked late yesterday.">ğŸ”Š Read</button></li>
              <li>We didnâ€™t travel last summer. <button class="speak" data-utterance="We didn't travel last summer.">ğŸ”Š Read</button></li>
              <li>Did they call you? <button class="speak" data-utterance="Did they call you?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'past-continuous': {
          title: 'Past Continuous',
          content: `
            <h4>Overview</h4>
            <p>The Past Continuous describes actions that were in progress at a specific time in the past.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + was/were + verb + -ing</li>
              <li><strong>Negative</strong>: Subject + was/were + not + verb + -ing</li>
              <li><strong>Question</strong>: Was/Were + subject + verb + -ing?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Ongoing past actions: <em>I was working when you called.</em></li>
              <li>Background actions: <em>It was raining while we were eating.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>She was reading a book. <button class="speak" data-utterance="She was reading a book.">ğŸ”Š Read</button></li>
              <li>They werenâ€™t listening to music. <button class="speak" data-utterance="They weren't listening to music.">ğŸ”Š Read</button></li>
              <li>Were you sleeping at 10 PM? <button class="speak" data-utterance="Were you sleeping at ten p.m.?">ğŸ”Š Read</button></li>
              <li>He was working all evening. <button class="speak" data-utterance="He was working all evening.">ğŸ”Š Read</button></li>
              <li>We werenâ€™t watching TV. <button class="speak" data-utterance="We weren't watching TV.">ğŸ”Š Read</button></li>
              <li>Was she cooking dinner? <button class="speak" data-utterance="Was she cooking dinner?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'past-perfect': {
          title: 'Past Perfect',
          content: `
            <h4>Overview</h4>
            <p>The Past Perfect describes actions that were completed before another past action.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + had + past participle</li>
              <li><strong>Negative</strong>: Subject + had + not + past participle</li>
              <li><strong>Question</strong>: Had + subject + past participle?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Past before past: <em>I had worked before I moved here.</em></li>
              <li>Cause and effect: <em>She was tired because she had worked all day.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>They had finished the project before the deadline. <button class="speak" data-utterance="They had finished the project before the deadline.">ğŸ”Š Read</button></li>
              <li>He hadnâ€™t eaten before the meeting. <button class="speak" data-utterance="He hadn't eaten before the meeting.">ğŸ”Š Read</button></li>
              <li>Had you seen her before? <button class="speak" data-utterance="Had you seen her before?">ğŸ”Š Read</button></li>
              <li>She had worked there for years. <button class="speak" data-utterance="She had worked there for years.">ğŸ”Š Read</button></li>
              <li>We hadnâ€™t met before the event. <button class="speak" data-utterance="We hadn't met before the event.">ğŸ”Š Read</button></li>
              <li>Had they traveled abroad? <button class="speak" data-utterance="Had they traveled abroad?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'past-perfect-continuous': {
          title: 'Past Perfect Continuous',
          content: `
            <h4>Overview</h4>
            <p>The Past Perfect Continuous emphasizes the duration of an action that was ongoing before another past action.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + had + been + verb + -ing</li>
              <li><strong>Negative</strong>: Subject + had + not + been + verb + -ing</li>
              <li><strong>Question</strong>: Had + subject + been + verb + -ing?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Duration before a past event: <em>I had been working for two hours when she arrived.</em></li>
              <li>Cause of a past situation: <em>He was exhausted because he had been working all night.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>They had been studying for weeks before the exam. <button class="speak" data-utterance="They had been studying for weeks before the exam.">ğŸ”Š Read</button></li>
              <li>She hadnâ€™t been sleeping well. <button class="speak" data-utterance="She hadn't been sleeping well.">ğŸ”Š Read</button></li>
              <li>Had you been waiting long? <button class="speak" data-utterance="Had you been waiting long?">ğŸ”Š Read</button></li>
              <li>He had been working hard all day. <button class="speak" data-utterance="He had been working hard all day.">ğŸ”Š Read</button></li>
              <li>We hadnâ€™t been practicing enough. <button class="speak" data-utterance="We hadn't been practicing enough.">ğŸ”Š Read</button></li>
              <li>Had they been traveling all month? <button class="speak" data-utterance="Had they been traveling all month?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'future-simple': {
          title: 'Future Simple (will)',
          content: `
            <h4>Overview</h4>
            <p>The Future Simple expresses predictions, spontaneous decisions, or promises about the future.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + will + base verb</li>
              <li><strong>Negative</strong>: Subject + will + not + base verb</li>
              <li><strong>Question</strong>: Will + subject + base verb?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Predictions: <em>It will rain tomorrow.</em></li>
              <li>Spontaneous decisions: <em>I will work tomorrow.</em></li>
              <li>Promises: <em>I will help you later.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>She will call you soon. <button class="speak" data-utterance="She will call you soon.">ğŸ”Š Read</button></li>
              <li>They wonâ€™t come to the party. <button class="speak" data-utterance="They won't come to the party.">ğŸ”Š Read</button></li>
              <li>Will he join us? <button class="speak" data-utterance="Will he join us?">ğŸ”Š Read</button></li>
              <li>I will finish this by tomorrow. <button class="speak" data-utterance="I will finish this by tomorrow.">ğŸ”Š Read</button></li>
              <li>We wonâ€™t travel next month. <button class="speak" data-utterance="We won't travel next month.">ğŸ”Š Read</button></li>
              <li>Will she visit next week? <button class="speak" data-utterance="Will she visit next week?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'future-continuous': {
          title: 'Future Continuous',
          content: `
            <h4>Overview</h4>
            <p>The Future Continuous describes actions that will be in progress at a specific time in the future.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + will + be + verb + -ing</li>
              <li><strong>Negative</strong>: Subject + will + not + be + verb + -ing</li>
              <li><strong>Question</strong>: Will + subject + be + verb + -ing?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Ongoing future actions: <em>I will be working at 8 PM.</em></li>
              <li>Polite inquiries: <em>Will you be working late tonight?</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>They will be traveling tomorrow. <button class="speak" data-utterance="They will be traveling tomorrow.">ğŸ”Š Read</button></li>
              <li>She wonâ€™t be attending the meeting. <button class="speak" data-utterance="She won't be attending the meeting.">ğŸ”Š Read</button></li>
              <li>Will you be staying here? <button class="speak" data-utterance="Will you be staying here?">ğŸ”Š Read</button></li>
              <li>He will be working all day. <button class="speak" data-utterance="He will be working all day.">ğŸ”Š Read</button></li>
              <li>We wonâ€™t be studying tonight. <button class="speak" data-utterance="We won't be studying tonight.">ğŸ”Š Read</button></li>
              <li>Will she be cooking later? <button class="speak" data-utterance="Will she be cooking later?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'future-perfect': {
          title: 'Future Perfect',
          content: `
            <h4>Overview</h4>
            <p>The Future Perfect describes actions that will be completed by a specific time in the future.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + will + have + past participle</li>
              <li><strong>Negative</strong>: Subject + will + not + have + past participle</li>
              <li><strong>Question</strong>: Will + subject + have + past participle?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Completion by a future time: <em>I will have worked 10 hours by 6 PM.</em></li>
              <li>Expected outcomes: <em>She will have finished the report by tomorrow.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>They will have completed the project by next week. <button class="speak" data-utterance="They will have completed the project by next week.">ğŸ”Š Read</button></li>
              <li>He wonâ€™t have arrived by then. <button class="speak" data-utterance="He won't have arrived by then.">ğŸ”Š Read</button></li>
              <li>Will you have finished by 5 PM? <button class="speak" data-utterance="Will you have finished by five p.m.?">ğŸ”Š Read</button></li>
              <li>She will have worked here for a year. <button class="speak" data-utterance="She will have worked here for a year.">ğŸ”Š Read</button></li>
              <li>We wonâ€™t have met by tomorrow. <button class="speak" data-utterance="We won't have met by tomorrow.">ğŸ”Š Read</button></li>
              <li>Will they have traveled by then? <button class="speak" data-utterance="Will they have traveled by then?">ğŸ”Š Read</button></li>
            </ul>`
        },
        'future-perfect-continuous': {
          title: 'Future Perfect Continuous',
          content: `
            <h4>Overview</h4>
            <p>The Future Perfect Continuous emphasizes the duration of an action up to a specific point in the future.</p>
            <h4>Structure</h4>
            <ul>
              <li><strong>Affirmative</strong>: Subject + will + have + been + verb + -ing</li>
              <li><strong>Negative</strong>: Subject + will + not + have + been + verb + -ing</li>
              <li><strong>Question</strong>: Will + subject + have + been + verb + -ing?</li>
            </ul>
            <h4>Usage</h4>
            <ul>
              <li>Duration until a future point: <em>I will have been working for 5 years by next June.</em></li>
              <li>Cause of future state: <em>She will be tired because she will have been working all day.</em></li>
            </ul>
            <h4>Examples</h4>
            <ul>
              <li>They will have been studying for months by the exam date. <button class="speak" data-utterance="They will have been studying for months by the exam date.">ğŸ”Š Read</button></li>
              <li>I wonâ€™t have been living here long by then. <button class="speak" data-utterance="I won't have been living here long by then.">ğŸ”Š Read</button></li>
              <li>Will you have been working here for a year by December? <button class="speak" data-utterance="Will you have been working here for a year by December?">ğŸ”Š Read</button></li>
              <li>She will have been teaching for ten years by next month. <button class="speak" data-utterance="She will have been teaching for ten years by next month.">ğŸ”Š Read</button></li>
              <li>We wonâ€™t have been practicing for long. <button class="speak" data-utterance="We won't have been practicing for long.">ğŸ”Š Read</button></li>
              <li>Will he have been traveling for weeks? <button class="speak" data-utterance="Will he have been traveling for weeks?">ğŸ”Š Read</button></li>
            </ul>`
        }
      };

      function populateVoices(){
        voices = speechSynthesis.getVoices().filter(v => commonEnglishVoices.includes(v.lang));
        voices.sort((a, b) => {
          const ai = commonEnglishVoices.indexOf(a.lang);
          const bi = commonEnglishVoices.indexOf(b.lang);
          return ai - bi || a.name.localeCompare(b.name);
        });
        voiceSelect.innerHTML = '';
        voices.forEach((v, i) => {
          const opt = document.createElement('option');
          opt.value = i;
          opt.textContent = `${v.name} (${v.lang})${v.default ? ' â€” default' : ''}`;
          voiceSelect.appendChild(opt);
        });
        const idx = voices.findIndex(v => commonEnglishVoices.includes(v.lang));
        voiceSelect.value = String(idx > -1 ? idx : 0);
      }

      if (typeof speechSynthesis !== 'undefined'){
        populateVoices();
        if (speechSynthesis.onvoiceschanged !== undefined){
          speechSynthesis.onvoiceschanged = populateVoices;
        }
      }

      function speak(text){
        if (!('speechSynthesis' in window)){
          alert('Your browser does not support Speech Synthesis. Try Chrome, Edge, or Safari.');
          return;
        }
        speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(text);
        const v = voices[parseInt(voiceSelect.value, 10)];
        if (v) u.voice = v;
        u.lang = (v && v.lang) || 'en-US';
        u.rate = parseFloat(rate.value);
        u.pitch = parseFloat(pitch.value);
        speechSynthesis.speak(u);
      }

      function showPopup(tense) {
        const explanation = tenseExplanations[tense];
        if (explanation) {
          popupTitle.textContent = explanation.title;
          popupContent.innerHTML = explanation.content;
          tensePopup.style.display = 'block';
          overlay.style.display = 'block';
        }
      }

      function closePopupFn() {
        tensePopup.style.display = 'none';
        overlay.style.display = 'none';
      }

      document.querySelectorAll('.card .head').forEach(head => {
        head.addEventListener('click', () => {
          const tense = head.closest('.card').dataset.tense;
          showPopup(tense);
        });
      });

      closePopup.addEventListener('click', closePopupFn);
      overlay.addEventListener('click', closePopupFn);

      document.addEventListener('click', (e) => {
        if (e.target.classList.contains('speak')) {
          const txt = e.target.getAttribute('data-utterance');
          document.querySelectorAll('.speak[aria-pressed="true"]').forEach(b => b.setAttribute('aria-pressed', 'false'));
          e.target.setAttribute('aria-pressed', 'true');
          speak(txt);
          const id = setInterval(() => {
            if (!speechSynthesis.speaking) {
              e.target.setAttribute('aria-pressed', 'false');
              clearInterval(id);
            }
          }, 150);
        }
      });

      rate.addEventListener('input', () => rateVal.textContent = rate.value);
      pitch.addEventListener('input', () => pitchVal.textContent = pitch.value);
    })();
  </script>
</body>
</html>
