<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Prompt Generator</title>
    <style>
        :root {
            --bg-color: #1e1e1e;
            --card-bg: #2d2d2d;
            --text-color: #e0e0e0;
            --accent: #4a90e2;
            --accent-hover: #357abd;
            --border: #444;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 900px;
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }

        h1 { text-align: center; margin-bottom: 25px; color: var(--accent); }

        /* --- TOGGLE BUTTONS --- */
        .algo-switch {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .algo-btn {
            padding: 10px 25px;
            background: transparent;
            border: 2px solid var(--border);
            color: #888;
            cursor: pointer;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .algo-btn:hover { border-color: var(--accent); color: var(--text-color); }

        .algo-btn.active {
            background-color: var(--accent);
            border-color: var(--accent);
            color: white;
            box-shadow: 0 0 10px rgba(74, 144, 226, 0.4);
        }

        /* --- FORM GRID --- */
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .full-width { grid-column: span 2; }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: #aaa;
        }

        select, input, textarea {
            width: 100%;
            padding: 12px;
            background-color: #1a1a1a;
            border: 1px solid var(--border);
            border-radius: 6px;
            color: white;
            font-size: 1rem;
            box-sizing: border-box; /* Importante para padding */
        }

        textarea {
            resize: vertical;
            min-height: 100px;
            font-family: monospace;
        }

        select:focus, input:focus, textarea:focus {
            outline: none;
            border-color: var(--accent);
        }

        /* --- ACTION BUTTONS --- */
        .actions {
            text-align: center;
            margin-top: 20px;
        }

        .btn-generate {
            background-color: var(--accent);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.2s;
        }

        .btn-generate:hover { background-color: var(--accent-hover); }

        /* --- OUTPUT AREA --- */
        .output-area {
            margin-top: 30px;
            border-top: 1px solid var(--border);
            padding-top: 20px;
        }

        #output {
            width: 100%;
            min-height: 300px;
            background-color: #111;
            color: #0f0; /* Terminal look */
            padding: 15px;
            border-radius: 6px;
            white-space: pre-wrap; /* Mantiene saltos de línea */
            border: 1px solid #333;
        }

        .btn-copy {
            margin-top: 10px;
            padding: 8px 16px;
            background-color: #444;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .btn-copy:hover { background-color: #666; }

    </style>
</head>
<body>

<div class="container">
    <h1>Prompt Architect</h1>

    <div class="algo-switch">
        <button id="btnSimplex" class="algo-btn active" onclick="setAlgorithm('SIMPLEX')">SIMPLEX MODE</button>
        <button id="btnComplex" class="algo-btn" onclick="setAlgorithm('COMPLEX')">COMPLEX MODE</button>
    </div>

    <div class="form-grid">
        <div class="full-width">
            <label>TOPIC / CONTEXT (What do you need?)</label>
            <textarea id="userInput" placeholder="E.g., I need a Javascript function to sort an array of objects..."></textarea>
        </div>

        <div>
            <label>MODE (Persona)</label>
            <select id="modeSelect"></select>
        </div>
        <div>
            <label>FORMAT (Output Structure)</label>
            <select id="formatSelect"></select>
        </div>

        <div>
            <label>TASK TYPE</label>
            <select id="taskSelect"></select>
        </div>
        <div>
            <label>VOICE / TONE</label>
            <select id="voiceSelect"></select>
        </div>
        <div class="full-width">
            <label>LENGTH / DEPTH</label>
            <select id="lengthSelect"></select>
        </div>
    </div>

    <div class="actions">
        <button class="btn-generate" onclick="generatePrompt()">GENERATE PROMPT</button>
    </div>

    <div class="output-area">
        <label>FINAL PROMPT:</label>
        <textarea id="output" readonly></textarea>
        <button class="btn-copy" onclick="copyToClipboard()">Copy to Clipboard</button>
    </div>
</div>

<script>
    // ==========================================
    // 1. DATA CONFIGURATION
    // ==========================================
    
    // Datos que NO cambian entre modos
    const COMMON_DATA = {
        MODES: [
            { id: 'tech', label: 'TECHNICAL', role: 'Act as a Senior Engineer.', style: 'Cyberpunk/Terminal style.', goal: 'Technical accuracy and implementation detail.' },
            { id: 'art', label: 'ART', role: 'Act as a Creative Director.', style: 'Minimalist Gallery / Editorial style.', goal: 'Aesthetic refinement and originality.' },
            { id: 'school', label: 'SCHOOL', role: 'Act as a Professor.', style: 'Clean Textbook / Academic style.', goal: 'Structured education and conceptual clarity.' },
            { id: 'story', label: 'STORYTELLING', role: 'Act as a Master Novelist.', style: 'Cinematic, immersive narrative tone.', goal: 'Engaging storytelling and world-building.' },
            { id: 'marketing', label: 'MARKETING', role: 'Act as a Senior Copywriter.', style: 'Persuasive, high-conversion writing.', goal: 'Brand voice alignment & audience engagement.' },
            { id: 'business', label: 'BUSINESS', role: 'Act as a Strategy Consultant.', style: 'Executive brief style.', goal: 'Clarity, precision, and actionable insights.' },
            { id: 'research', label: 'RESEARCH', role: 'Act as a Research Scientist.', style: 'Peer-reviewed academic tone.', goal: 'Evidence-based rigor with citations when relevant.' },
            { id: 'casual', label: 'CASUAL', role: 'Act as a friendly assistant.', style: 'Conversational, natural tone.', goal: 'Clarity, simplicity, and a human-sounding delivery.' }
        ],
        FORMATS: [
            { id: 'html', label: 'HTML APP', instruction: 'Return a single HTML5 file with inline CSS/JS. No external files. Use overflow-y:auto.' },
            { id: 'text', label: 'TEXT GUIDE', instruction: 'Return Markdown text with clear headings and structure.' },
            { id: 'code', label: 'CODE SNIPPET', instruction: 'Return raw code only with comments.' },
            { id: 'essay', label: 'ESSAY', instruction: 'Return a polished formal essay.' },
            { id: 'dialogue', label: 'DIALOGUE', instruction: 'Return a scripted scene or conversation.' },
            { id: 'template', label: 'TEMPLATE', instruction: 'Return a reusable structured template with fillable fields.' },
            { id: 'checklist', label: 'CHECKLIST', instruction: 'Return a concise actionable checklist or SOP.' }
        ]
    };

    // Datos Específicos por Algoritmo
    const ALGORITHMS = {
        SIMPLEX: {
            TASK_TYPES: [
                { id: 'explain', label: 'EXPLANATION', instruction: 'Explain the topic clearly and step-by-step.' },
                { id: 'analysis', label: 'ANALYSIS', instruction: 'Break the topic down into components with pros, cons, variables.' },
                { id: 'create', label: 'CREATIVE GENERATION', instruction: 'Generate original content in the selected style.' },
                { id: 'teach', label: 'TEACHING', instruction: 'Introduce, teach, give examples, and add a practice checkpoint.' },
                { id: 'improve', label: 'IMPROVEMENT', instruction: 'Rewrite and enhance the user’s content with better clarity and style.' },
                { id: 'compare', label: 'COMPARISON', instruction: 'Compare items using structure, criteria, and reasoning.' },
                { id: 'build', label: 'CONSTRUCTION', instruction: 'Produce a structured artifact: plan, blueprint, script, architecture, or framework.' }
            ],
            VOICES: [
                { id: 'neutral', label: 'Neutral', instruction: 'Use a balanced, neutral tone.' },
                { id: 'friendly', label: 'Friendly', instruction: 'Use a warm, approachable tone.' },
                { id: 'authoritative', label: 'Authoritative', instruction: 'Use a confident, expert tone.' },
                { id: 'poetic', label: 'Poetic', instruction: 'Use metaphors, rhythm, and evocative language.' },
                { id: 'concise', label: 'Concise', instruction: 'Use highly efficient, compact phrasing.' }
            ],
            LENGTH: [
                { id: 'short', label: 'SHORT', instruction: 'Maximum 2 short paragraphs.' },
                { id: 'medium', label: 'MEDIUM', instruction: 'Up to 6 paragraphs with examples.' },
                { id: 'long', label: 'LONG', instruction: 'Extensive, detailed long-form content.' }
            ],
            FADER_LEVELS: [
                "- Level 1: Basic Summary or Definition.",
                "- Level 2: Add Context, History, or Motivation.",
                "- Level 3: Add Structure, Examples, or Interactions.",
                "- Level 4: Add Advanced Analysis, Troubleshooting, or Exercises.",
                "- Level 5: Full Interactive App / Deep-Dive Artifact."
            ],
            RESTRICTIONS: [
                "Do not include filler text.",
                "Do not split the output into multiple messages.",
                "No disclaimers unless strictly necessary.",
                "Avoid repetition.",
                "Respect the selected format exactly."
            ]
        },
        COMPLEX: {
            TASK_TYPES: [
                { id: 'explain', label: 'DEMYSTIFY', instruction: 'Take the specific topic and break it down from first principles. Reveal the underlying logic clearly, making the complex intuitive.' },
                { id: 'analysis', label: 'DECONSTRUCT', instruction: 'Perform a deep-dive analysis. Identify root causes, systemic connections, variables, and potential edge cases within the context.' },
                { id: 'create', label: 'IDEATE & SYNTHESIZE', instruction: 'Generate novel, non-obvious content. Combine disparate concepts from the context to create something original and transformative.' },
                { id: 'teach', label: 'SCAFFOLDED MASTERY', instruction: 'Design a learning path. Introduce the concept, show a concrete example, explain the nuance, and provide a test/challenge for the user.' },
                { id: 'improve', label: 'REFACTOR & ELEVATE', instruction: 'Critique the input. Optimize for clarity, efficiency, and impact. Explain specifically what was improved and why.' },
                { id: 'compare', label: 'JUXTAPOSE & EVALUATE', instruction: 'Compare entities using rigorous criteria. Highlight trade-offs, synergies, and contextual suitability. Declare a winner based on the specific context.' },
                { id: 'build', label: 'ARCHITECT', instruction: 'Construct a complete artifact (plan, blueprint, codebase) from start to finish. Ensure all components logically fit together into a working whole.' }
            ],
            VOICES: [
                { id: 'neutral', label: 'Objective / Analytical', instruction: 'Maintain a bias-free, factual, and observably detached tone.' },
                { id: 'friendly', label: 'Warm / Collaborative', instruction: 'Use an inviting, encouraging, and psychologically safe tone.' },
                { id: 'authoritative', label: 'Commanding / Expert', instruction: 'Use decisive, unwavering language. Project absolute confidence.' },
                { id: 'poetic', label: 'Lyrical / Evocative', instruction: 'Use metaphor, rhythm, and sensory imagery to paint a picture with words.' },
                { id: 'concise', label: 'Minimalist / Direct', instruction: 'Maximize information density. Remove all fluff. Be surgical.' }
            ],
            LENGTH: [
                { id: 'short', label: 'ATOMIC (High Density)', instruction: 'Provide the answer in a distilled format. Maximum impact, minimum word count (approx. 100 words).' },
                { id: 'medium', label: 'COMPREHENSIVE (Balanced)', instruction: 'Explore the topic with sufficient detail, examples, and nuance. Standard depth (approx. 400 words).' },
                { id: 'long', label: 'EXHAUSTIVE (Deep Dive)', instruction: 'Leave no stone unturned. Cover history, theory, application, and edge cases. Extensive length.' }
            ],
            FADER_LEVELS: [
                "- Level 1: Surface (Define the core concept simply).",
                "- Level 2: Context (Add historical background or 'Why it matters').",
                "- Level 3: Mechanics (Explain 'How it works' with examples).",
                "- Level 4: Nuance (Discuss optimization, edge cases, and trade-offs).",
                "- Level 5: Mastery (Full systemic integration and advanced synthesis). "
            ],
            RESTRICTIONS: [
                "Strictly follow the chosen FORMAT structure.",
                "Do not include conversational filler (e.g., 'Here is your...'). Start directly with the output.",
                "Ensure the tone aligns perfectly with the chosen MODE and VOICE.",
                "Integrate the User's CONTEXT and SPECIFIC TOPIC seamlessly.",
                "Output must be complete; do not cut off or ask to continue."
            ]
        }
    };

    // Estado Global
    let currentAlgorithm = 'SIMPLEX';

    // ==========================================
    // 2. DOM MANIPULATION
    // ==========================================

    function setAlgorithm(algoType) {
        currentAlgorithm = algoType;

        // Estilos de botones
        document.getElementById('btnSimplex').className = algoType === 'SIMPLEX' ? 'algo-btn active' : 'algo-btn';
        document.getElementById('btnComplex').className = algoType === 'COMPLEX' ? 'algo-btn active' : 'algo-btn';

        // Recargar dropdowns
        populateDropdowns();
    }

    function populateDropdowns() {
        const algoData = ALGORITHMS[currentAlgorithm];

        // 1. Cargar datos dinámicos (Task, Voice, Length)
        fillSelect('taskSelect', algoData.TASK_TYPES);
        fillSelect('voiceSelect', algoData.VOICES);
        fillSelect('lengthSelect', algoData.LENGTH);

        // 2. Cargar datos comunes (Mode, Format) - Solo si están vacíos o para resetear
        // Nota: Podríamos hacerlo solo una vez, pero hacerlo aquí asegura consistencia
        fillSelect('modeSelect', COMMON_DATA.MODES);
        fillSelect('formatSelect', COMMON_DATA.FORMATS);
    }

    // Helper para llenar <select>
    function fillSelect(elementId, items) {
        const select = document.getElementById(elementId);
        select.innerHTML = ''; // Limpiar

        items.forEach(item => {
            const option = document.createElement('option');
            option.value = item.id;
            option.textContent = item.label;
            
            // Guardamos todos los metadatos relevantes en data-attributes
            // Usamos JSON.stringify para objetos complejos o strings directos
            option.dataset.instruction = item.instruction || '';
            if(item.role) option.dataset.role = item.role;
            if(item.style) option.dataset.style = item.style;
            if(item.goal) option.dataset.goal = item.goal;
            
            select.appendChild(option);
        });
    }

    // ==========================================
    // 3. PROMPT GENERATION LOGIC
    // ==========================================

    function generatePrompt() {
        const userInput = document.getElementById('userInput').value;
        const algoData = ALGORITHMS[currentAlgorithm];

        // Obtener elementos select
        const modeEl = document.getElementById('modeSelect').selectedOptions[0];
        const formatEl = document.getElementById('formatSelect').selectedOptions[0];
        const taskEl = document.getElementById('taskSelect').selectedOptions[0];
        const voiceEl = document.getElementById('voiceSelect').selectedOptions[0];
        const lengthEl = document.getElementById('lengthSelect').selectedOptions[0];

        // Construir el Prompt
        let prompt = `### SYSTEM INSTRUCTIONS (${currentAlgorithm} MODE) ###\n\n`;

        // 1. Role & Identity
        prompt += `**ROLE:** ${modeEl.dataset.role}\n`;
        prompt += `**STYLE:** ${modeEl.dataset.style}\n`;
        prompt += `**GOAL:** ${modeEl.dataset.goal}\n\n`;

        // 2. Task & Voice
        prompt += `**TASK:** ${taskEl.dataset.instruction}\n`;
        prompt += `**VOICE:** ${voiceEl.dataset.instruction}\n`;
        prompt += `**LENGTH:** ${lengthEl.dataset.instruction}\n`;
        prompt += `**FORMAT:** ${formatEl.dataset.instruction}\n\n`;

        // 3. User Context
        prompt += `--- USER CONTEXT ---\n${userInput ? userInput : "[NO INPUT PROVIDED]"}\n--------------------\n\n`;

        // 4. Execution Guidelines (Fader Levels)
        prompt += `**EXECUTION GUIDELINES (DEPTH LEVELS):**\n`;
        prompt += algoData.FADER_LEVELS.join('\n') + `\n\n`;

        // 5. Strict Restrictions
        prompt += `**STRICT RESTRICTIONS:**\n`;
        prompt += algoData.RESTRICTIONS.join('\n');

        // Mostrar
        document.getElementById('output').value = prompt;
    }

    function copyToClipboard() {
        const copyText = document.getElementById("output");
        copyText.select();
        copyText.setSelectionRange(0, 99999); 
        navigator.clipboard.writeText(copyText.value);
        
        // Feedback visual simple
        const originalText = document.querySelector('.btn-copy').innerText;
        document.querySelector('.btn-copy').innerText = "COPIED!";
        setTimeout(() => {
            document.querySelector('.btn-copy').innerText = originalText;
        }, 1500);
    }

    // Inicializar app
    document.addEventListener('DOMContentLoaded', () => {
        populateDropdowns();
    });

</script>

</body>
</html>
